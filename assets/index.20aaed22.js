var Vt=Object.defineProperty,Mt=Object.defineProperties;var Nt=Object.getOwnPropertyDescriptors;var tt=Object.getOwnPropertySymbols;var Gt=Object.prototype.hasOwnProperty,Ht=Object.prototype.propertyIsEnumerable;var nt=(e,t,n)=>t in e?Vt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,fe=(e,t)=>{for(var n in t||(t={}))Gt.call(t,n)&&nt(e,n,t[n]);if(tt)for(var n of tt(t))Ht.call(t,n)&&nt(e,n,t[n]);return e},ze=(e,t)=>Mt(e,Nt(t));import{o as r,c,n as L,a as m,G as ye,S as Wt,r as R,w as J,b as P,u as Kt,C as he,d as T,e as x,f as h,g as v,h as u,i,j as C,t as f,k as ie,l as V,m as g,p as Ce,q as O,v as Y,T as N,s as G,x as I,y as j,F as D,z as ee,A as Qt,B as Jt,D as Ee,E as re,H as se,I as F,J as Yt,K as Xt,L as Zt,M as W,N as en,O as tn,P as nn,Q as st,R as sn,U as on,V as ln,W as ae,X as an,Y as rn,Z as ot,_ as un,$ as cn,a0 as _n,a1 as dn,a2 as pn,a3 as vn,a4 as lt,a5 as mn,a6 as fn,a7 as yn,a8 as hn,a9 as $n}from"./vendor.fcfeee3f.js";const gn=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const a of l.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerpolicy&&(l.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?l.credentials="include":o.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}};gn();var $=(e,t)=>{const n=e.__vccOpts||e;for(const[s,o]of t)n[s]=o;return n};const bn={class:"avatar"},kn=["src"],wn={props:{pic:String,pub:String,size:{type:String,default:"small"}},setup(e){return(t,n)=>(r(),c("div",bn,[e.pic?(r(),c("img",{key:0,class:L(["avatar",{[e.size]:!0}]),src:e.pic},null,10,kn)):m("",!0)]))}};var Ie=$(wn,[["__scopeId","data-v-ec89d582"]]);const Le={appPath:"feeds-app",dbVersion:24,peers:["https://etogun.glitch.me/gun"]};Sn(localStorage.dbVersion,Le.dbVersion);const S=ye(Le.peers);window.gun=S;const q=Le.appPath,Q=S.get(q),te=ye.node.soul,xn=ye.node.is;ye.state.is;const Pe=Wt,at=ye.text.random;async function je(e){return await Pe.work(e,q,null,{name:"SHA-1",encode:"hex"})}function $e(e){if(!!e)return e.substring(e.lastIndexOf("/")+1)}function Sn(e,t){e?e<t?(console.error(`New DB version ${t} detected. Clearing local database.`),localStorage.clear(),localStorage.dbVersion=t):console.info("DB version: "+e):(localStorage.dbVersion=t,console.log("DB version is now "+e))}const zn={app:"app",info:"info",error:"error",warn:"warn"};let qe=[];if(localStorage.history)try{qe=JSON.parse(localStorage.history),qe.forEach(e=>e.seen=!0)}catch{localStorage.history=null}const ge=R(qe);J(()=>{localStorage.history=JSON.stringify(ge)});P(()=>ge.filter(e=>!e.seen));function be(e){Te("info",e)}function Cn(e){Te("warn",e)}function _e(e){Te("error",e)}function In(){ge.splice(0)}const jn={app:"#eee",error:"hsl(0, 60%, 58%)",info:"hsl(110, 32%, 56%)",warn:"hsl(41, 100%, 53%)"};function On(e){return{type:zn[e],time:Date.now(),seen:!1}}function Te(e,t,n=5e3){const s=R(ze(fe({},On(e)),{content:t}));setTimeout(()=>{s.seen=!0},n),ge.push(s)}const w=R({is:null,profile:{title:""},rates:{}});function Re(e){var t;if(!!e)return e.slice(1,88)==((t=w.is)==null?void 0:t.pub)}S.user().recall({sessionStorage:!0},e=>{e.err?_e("Couldn't recall a user"):rt()});S.on("auth",async()=>{console.log("auth"),it(S.user().is.pub)});function it(e){S.user(e).get(q).get("profile").map().on((t,n)=>{w.profile[n]=t}),S.user(e).get(q).get("rate").map().on((t,n)=>{w.rates[n]=t})}function rt(){w.is=S.user().is,it(w.is.pub),be("You successfully logged in as "+w.is.alias+".")}function Ve(e,t){S.get("~@"+e).once(n=>{t(n)})}function Dn(e,t){return{alias:e,title:e,pub:t,createdAt:Date.now()}}function ut(e,t){console.log("creating"),Ve(e,n=>{console.log(n)}),S.user().create(e,t,async n=>{if(n.err)_e(n.err);else{let s=await je(n.pub);Q.get("user").get(s).put(Dn(e,n.pub),()=>{window.location.reload()})}})}async function Un(){let e=await je(w.is.pub),t=S.user().get(q).get("profile");t.get("id").put(e),t.get("pub").put(w.is.pub),Q.get("user").get(e).put(t,()=>{var n;be(`User ${(n=w.profile)==null?void 0:n.title} is participating with id ${e}`)})}function ct(e,t){S.user().auth(e,t,n=>{n.err?_e(n.err):rt()})}function Fn(){S.user().leave(),setTimeout(()=>{var e;((e=S.user()._)==null?void 0:e.sea)||(w.is=null,be("User logged out"),window.location.reload())},300)}const _t=Kt(),An={light:new he({saturation:[.05,.08,.12],lightness:[.85,.87,.9]}),dark:new he({saturation:[.02,.05,.08],lightness:[.18,.2,.3]})},Bn={light:new he({saturation:[.3,.4,.5],lightness:[.7,.8,.9]}),dark:new he({saturation:[.3,.4,.5],lightness:[.2,.3,.4]})};function ne(e){let t=An[_t.value?"dark":"light"];return xn(e)?t.hex($e(te(e))):(e==null?void 0:e.key)?t.hex($e(e.key)):typeof e=="string"?t.hex($e(e)):"hsla(0,100%,100%,0.2)"}function ke(e,t=0){if(!e)return`linear-gradient(${t}deg, var(--top-bar) 0%, var(--bar-color) 100%)`;let n=Bn[_t.value?"dark":"light"],o=e.split(".").map(l=>n.hex(l));return`linear-gradient(${t}deg, ${o[0]} 0%, ${o[1]} 100%)`}var we={" ":{.6294:"s",1:"t",.5166:"i",.2635:"c",.1255:"h",.7882:"a",.4297:"w",.1915:"b",.3464:"o",.0603:"f"},a:{1:"n",.507:"l",.1379:"i",.3973:" ",.0446:"y",.6368:"r",.1865:"c",.0895:"m",.2906:"s",.7853:"t"},c:{1:"o",.078:"r",.7882:"h",.3303:"t",.6334:"e",.181:"i",.0365:" ",.4808:"a",.2455:"k",.1214:"l"},b:{1:"e",.0168:"s",.5666:"o",.3311:"l",.7064:"a",.042:" ",.2285:"i",.1634:"r",.1023:"y",.445:"u"},e:{1:" ",.3763:"s",.2035:"a",.2859:"d",.0326:"c",.6218:"r",.1016:"e",.0666:"t",.14:"l",.4732:"n"},d:{.4397:"e",1:" ",.0217:"d",.0671:"u",.044:"r",.0109:"y",.2946:"i",.0974:"s",.1495:"a",.2076:"o"},g:{.4683:"h",1:" ",.0461:"s",.3648:"o",.0214:"n",.1991:"r",.2811:"a",.0805:"u",.1315:"i",.6221:"e"},f:{.1547:"a",1:" ",.0923:"t",.0555:"u",.3867:"e",.2186:"f",.2981:"r",.0235:"l",.5046:"i",.7035:"o"},i:{.125:"e",1:"n",.5324:"s",.1826:"d",.4017:"c",.3255:"o",.6677:"t",.2528:"l",.0382:"g",.081:"r"},h:{.0636:"t",1:"e",.0099:"y",.3911:"i",.0382:"r",.0043:"n",.1563:"o",.2699:" ",.0219:"u",.5663:"a"},k:{1:"e",.0184:"y",.2099:"s",.0336:"o",.1346:"n",.0828:"a",.664:" ",.0066:"u",.0526:"l",.3508:"i"},j:{.3455:"a",1:"u",9e-4:"s",.0314:" ",.2002:"e",.0618:"i",.0051:"p",.0021:"c",.6376:"o",.0132:"r"},m:{1:"e",.7376:"a",.0544:"b",.2917:"i",.1154:"u",.4078:"o",.0265:"s",.1847:"p",.5582:" ",.0833:"m"},l:{1:" ",.8256:"e",.0557:"s",.5064:"i",.2714:"o",.0221:"u",.1913:"y",.6551:"l",.3799:"a",.1173:"d"},o:{.4793:"u",1:"n",.8009:" ",.0373:"o",.3502:"f",.1282:"w",.0817:"l",.1832:"t",.6375:"r",.2536:"m"},n:{1:" ",.5597:"g",.4228:"t",.1167:"i",.3088:"e",.7117:"d",.2199:"s",.0764:"c",.0377:"a",.1673:"o"},q:{1:"u",.0059:"l",.0136:"b",.0017:"s",.0348:"i",.0218:"a",.003:"w",.0043:"w",6e-4:"v",.0888:" "},p:{1:"e",.18:"i",.5315:"a",.4013:"l",.8133:"r",.124:"p",.2815:" ",.0687:"u",.6631:"o",.0274:"t"},s:{1:" ",.2935:"i",.1824:"a",.3978:"e",.5411:"t",.0947:"s",.1379:"h",.053:"u",.0224:"p",.2328:"o"},r:{1:"e",.1439:"t",.0554:"d",.2183:"s",.0245:"n",.5049:"o",.7461:" ",.0896:"y",.4002:"i",.3042:"a"},u:{1:"r",.5156:"s",.2004:" ",.3647:"l",.259:"p",.1475:"c",.6674:"n",.0476:"e",.8267:"t",.0963:"g"},t:{.1525:"a",.0368:"u",1:"h",.1056:"r",.4593:"o",.071:"s",.3457:"e",.7133:" ",.0183:"t",.243:"i"},w:{.0373:"s",.0059:"l",.8036:"a",1:"i",.6122:"e",.3096:"o",.1913:" ",.0183:"r",.4543:"h",.0822:"n"},v:{1:"e",.007:"s",.0014:"d",.0737:"o",.0234:" ",.0029:"r",.1484:"a",.0112:"y",.339:"i",.0045:"u"},y:{.204:"e",1:" ",.0681:"i",.0136:"l",.0314:"t",.0223:"m",.303:"o",.0475:"a",.0056:"p",.1217:"s"},x:{1:"p",.7464:" ",.0368:"u",.2706:"i",.1089:"c",.0215:"h",.01:"o",.5265:"t",.1895:"e",.3517:"i"},z:{1:"e",.4678:" ",.2055:"o",.3289:"i",.0684:"y",.043:"u",.0075:"h",.024:"l",.6314:"a",.1182:"z"}};for(var dt in we){var pt=[];for(var En in we[dt])pt.push(En);we[dt].sorted=pt.sort()}function Ln(e,t){e||(e=1),t&&t>e&&(e=Math.ceil(Math.random()*t));for(var n=[],s=0;s<e;s++){for(var o=" ",l=o;;){for(var a=Math.random(),d=we[l].sorted,_=0;_+1<d.length&&d[_]<a;_++);let p=we[l][d[_]];if(p===" "){if(o.length>5)break}else o+=p;l=p}n.push(o.substring(1))}return n.join(" ")}function Pn(e,t,n){var o;return ze(fe({},t),{id:at(),title:vt(t.title)||Ln(2),description:"",type:e,parent:n||((o=w==null?void 0:w.is)==null?void 0:o.pub),status:"new",createdAt:Date.now(),log:{[Date.now()]:"created|"+t.title}})}async function qn(e,t,n,s){let o=Pn(t,n,s),l=e||q,a=S.user().get(l).get(t).get(o.id).put(o).then();S.get(e).get(t).get(o.id).put(await a),s&&(S.get(s).get(t).get(o.id).put(await a),S.get(s).get("log").get(Date.now()).put("added|"+o.title))}function vt(e,t=142){return e?e.length>t?`${e.substring(0,t)}`:e:" "}function mt(e,t,n){const s=S.get(e);s.get(t).put(n),s.get("updatedAt").put(Date.now()),s.get("log").get(Date.now()).put("edited|"+t),be(`You updated ${t} with ${vt(n)}.`)}function Tn(e){var o,l,a;if(!w.is)return;let t=((o=w.is)==null?void 0:o.pub)==(e==null?void 0:e.soul.slice(1,88)),n=(e==null?void 0:e.type)=="user"&&((l=w.is)==null?void 0:l.pub)==e.pub,s=Boolean(e==null?void 0:e.team[(a=w.is)==null?void 0:a.pub]);return t||n||s}const Rn={class:"alias"},Vn={props:{id:String},setup(e){const t=e,n=R({alias:null,pub:null,avatar:null,id:null}),s=P(()=>{var o;return n.pub==((o=w.is)==null?void 0:o.pub)});return J(()=>{t.id&&S.get(`~${t.id}`).get(q).get("profile").on(async(o,l)=>{n.alias=o.title,n.pub=o.pub,n.avatar=o.avatar,n.id=await je(t.id)})}),(o,l)=>{const a=Ie,d=T("router-link");return r(),x(d,{class:"user",to:{path:u(s)?"/my":`/u/${u(n).id}`},style:V({background:u(s)?u(ke)(u(n).pub,90):"none"})},{default:h(()=>[v(a,{class:"avatar",size:"small",pic:u(n).avatar},null,8,["pic"]),i("span",Rn,[C(f(u(n).alias),1),ie(o.$slots,"default",{},void 0,!0)])]),_:3},8,["to","style"])}}};var de=$(Vn,[["__scopeId","data-v-5f7ecf6e"]]);const ft=e=>(I("data-v-2c7ff140"),e=e(),j(),e),Mn={id:"auth"},Nn={class:"info"},Gn=ft(()=>i("div",{class:"text"},"Hello!",-1)),Hn=ft(()=>i("div",{class:"i-la-times"},null,-1)),Wn=[Hn],Kn={props:{open:Boolean},emits:["close"],setup(e,{emit:t}){const n=g(""),s=g(""),o=g(null);return Ce(n,l=>{Ve(l,a=>{o.value=a})}),J(()=>{w.is&&t("close")}),(l,a)=>(r(),c("div",Mn,[i("div",Nn,[Gn,i("span",{class:"close",onClick:a[0]||(a[0]=d=>l.$emit("close"))},Wn)]),i("form",{onSubmit:a[5]||(a[5]=G(()=>{},["prevent"]))},[O(i("input",{class:"mv2",type:"text",placeholder:"Login","onUpdate:modelValue":a[1]||(a[1]=d=>n.value=d)},null,512),[[Y,n.value]]),O(i("input",{class:"mv2",type:"password",placeholder:"Password",name:"password","onUpdate:modelValue":a[2]||(a[2]=d=>s.value=d)},null,512),[[Y,s.value]]),v(N,{name:"fade"},{default:h(()=>[n.value&&o.value?(r(),c("button",{key:"auth",onClick:a[3]||(a[3]=d=>u(ct)(n.value,s.value))},"Log in")):(r(),c("button",{key:"create",onClick:a[4]||(a[4]=d=>u(ut)(n.value,s.value))},"Create a new user"))]),_:1})],32)]))}};var Qn=$(Kn,[["__scopeId","data-v-2c7ff140"]]),yt="/icons/feeds.svg";const xe=e=>(I("data-v-e7c85ef4"),e=e(),j(),e),Jn=xe(()=>i("img",{class:"min-w-30px",src:yt,alt:""},null,-1)),Yn=xe(()=>i("div",{class:"i-la-users"},null,-1)),Xn=xe(()=>i("div",{class:"i-la-flask"},null,-1)),Zn=xe(()=>i("div",{class:"i-la-sign-in-alt"},null,-1)),es=[Zn],ts={key:1,class:"username"},ns=xe(()=>i("div",{class:"spacer"},null,-1)),ss={setup(e){const t=g(!1);return(n,s)=>{var d;const o=Qn,l=T("router-link"),a=de;return r(),c("nav",{class:"flex flex-col items-center text-2xl",id:"bar",style:V({background:u(ke)((d=u(w).is)==null?void 0:d.pub,0)})},[v(N,{name:"fade"},{default:h(()=>[t.value?(r(),x(o,{key:0,onClose:s[0]||(s[0]=_=>t.value=!1)})):m("",!0)]),_:1}),v(l,{class:"flex-1",to:"/"},{default:h(()=>[Jn]),_:1}),v(l,{to:"/u/"},{default:h(()=>[Yn]),_:1}),v(l,{to:"/lab/"},{default:h(()=>[Xn]),_:1}),u(w).is?(r(),c("div",ts,[v(a,{id:u(w).is.pub},null,8,["id"])])):(r(),c("div",{key:0,class:"login",onClick:s[1]||(s[1]=_=>t.value=!t.value)},es)),ns],4)}}};var os=$(ss,[["__scopeId","data-v-e7c85ef4"]]);function ls(e,t){const n=os,s=T("router-view");return r(),c(D,null,[v(n),v(s,null,{default:h(({Component:o})=>[v(N,{name:"fade"},{default:h(()=>[(r(),x(ee(o)))]),_:2},1024)]),_:1})],64)}const as={};var is=$(as,[["render",ls]]),rs={"404":{sorry:e=>{const{normalize:t}=e;return t(["Sorry!"])},text:e=>{const{normalize:t}=e;return t(["Nothing found here."])}},type:{user:e=>{const{normalize:t,plural:n}=e;return n([t(["User"]),t(["Users"])])},design:e=>{const{normalize:t,plural:n}=e;return n([t(["Design"]),t(["Designs"])])},project:e=>{const{normalize:t,plural:n}=e;return n([t(["Project"]),t(["Projects"])])},object:e=>{const{normalize:t,plural:n}=e;return n([t(["Object"]),t(["Objects"])])},event:e=>{const{normalize:t,plural:n}=e;return n([t(["Event"]),t(["Events"])])},task:e=>{const{normalize:t,plural:n}=e;return n([t(["Task"]),t(["Tasks"])])},purchase:e=>{const{normalize:t,plural:n}=e;return n([t(["Purchase"]),t(["Purchases"])])},result:e=>{const{normalize:t,plural:n}=e;return n([t(["Result"]),t(["Results"])])},thing:e=>{const{normalize:t,plural:n}=e;return n([t(["Thing"]),t(["Things"])])},gift:e=>{const{normalize:t,plural:n}=e;return n([t(["Gift"]),t(["Gifts"])])},opportunity:e=>{const{normalize:t,plural:n}=e;return n([t(["Opportunity"]),t(["Opportunities"])])}},status:{new:e=>{const{normalize:t}=e;return t(["New"])},dev:e=>{const{normalize:t}=e;return t(["Development"])},process:e=>{const{normalize:t}=e;return t(["Process"])},product:e=>{const{normalize:t}=e;return t(["Product"])},pause:e=>{const{normalize:t}=e;return t(["Paused"])},ondemand:e=>{const{normalize:t}=e;return t(["On demand"])},finish:e=>{const{normalize:t}=e;return t(["Finished"])},null:e=>{const{normalize:t}=e;return t(["no status"])}},date:{start:e=>{const{normalize:t}=e;return t(["Start date"])},finish:e=>{const{normalize:t}=e;return t(["Finish date"])}},log:{title:e=>{const{normalize:t}=e;return t(["Log"])}},comment:e=>{const{normalize:t,plural:n}=e;return n([t(["Comment"]),t(["Comments"])])},description:e=>{const{normalize:t}=e;return t(["Description"])},def:{design:e=>{const{normalize:t}=e;return t(["A set of socially significant projects united by a common idea"])},project:e=>{const{normalize:t}=e;return t(["A feasible sequence of coordinated human actions aimed at achieving clear goals under certain conditions and within a certain time frame"])},object:e=>{const{normalize:t}=e;return t(["Material or informational entity"])},event:e=>{const{normalize:t}=e;return t(["Structured joint activity of people in a specific place at a specific time"])},task:e=>{const{normalize:t}=e;return t(["Description of the effective action with all the information necessary to complete it"])},purchase:e=>{const{normalize:t}=e;return t(["Supply of tools, materials and information necessary for the implementation of the project"])},result:e=>{const{normalize:t}=e;return t(["Successful final consequence of targeted action"])},thing:e=>{const{normalize:t}=e;return t(["Material Item"])},opportunity:e=>{const{normalize:t}=e;return t(["A pleasant experience to live through"])}},app:{title:e=>{const{normalize:t}=e;return t(["Feeds"])},welcome:e=>{const{normalize:t}=e;return t(["Welcome!"])},description:e=>{const{normalize:t}=e;return t(["Service for joint development and implementation of socio-cultural programs and generally useful projects"])}},link:e=>{const{normalize:t,plural:n}=e;return n([t(["Link"]),t(["Links"])])},subtitle:e=>{const{normalize:t}=e;return t(["Subtitle"])}},us={"404":{text:e=>{const{normalize:t}=e;return t(["\u0417\u0434\u0435\u0441\u044C \u043D\u0438\u0447\u0435\u0433\u043E \u043D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D\u043E."])},sorry:e=>{const{normalize:t}=e;return t(["\u0418\u0437\u0432\u0438\u043D\u0438\u0442\u0435!"])}},type:{user:e=>{const{normalize:t,plural:n}=e;return n([t(["\u0423\u0447\u0430\u0441\u0442\u043D\u0438\u043A"]),t(["\u0423\u0447\u0430\u0441\u0442\u043D\u0438\u043A\u0438"])])},design:e=>{const{normalize:t,plural:n}=e;return n([t(["\u041F\u0440\u043E\u0433\u0440\u0430\u043C\u043C\u0430"]),t(["\u041F\u0440\u043E\u0433\u0440\u0430\u043C\u043C\u044B"])])},project:e=>{const{normalize:t,plural:n}=e;return n([t(["\u041F\u0440\u043E\u0435\u043A\u0442"]),t(["\u041F\u0440\u043E\u0435\u043A\u0442\u044B"])])},object:e=>{const{normalize:t,plural:n}=e;return n([t(["\u041E\u0431\u044A\u0435\u043A\u0442"]),t(["\u041E\u0431\u044A\u0435\u043A\u0442\u044B"])])},event:e=>{const{normalize:t,plural:n}=e;return n([t(["\u0421\u043E\u0431\u044B\u0442\u0438\u0435"]),t(["\u0421\u043E\u0431\u044B\u0442\u0438\u044F"])])},task:e=>{const{normalize:t,plural:n}=e;return n([t(["\u0417\u0430\u0434\u0430\u0447\u0430"]),t(["\u0417\u0430\u0434\u0430\u0447\u0438"])])},purchase:e=>{const{normalize:t,plural:n}=e;return n([t(["\u041F\u0440\u0438\u043E\u0431\u0440\u0435\u0442\u0435\u043D\u0438\u0435"]),t(["\u041F\u0440\u0438\u043E\u0431\u0440\u0435\u0442\u0435\u043D\u0438\u044F"])])},result:e=>{const{normalize:t,plural:n}=e;return n([t(["\u0420\u0435\u0437\u0443\u043B\u044C\u0442\u0430\u0442"]),t(["\u0420\u0435\u0437\u0443\u043B\u044C\u0442\u0430\u0442\u044B"])])},thing:e=>{const{normalize:t,plural:n}=e;return n([t(["\u0412\u0435\u0449\u044C"]),t(["\u0412\u0435\u0449\u0438"])])},gift:e=>{const{normalize:t,plural:n}=e;return n([t(["\u0414\u0430\u0440"]),t(["\u0414\u0430\u0440\u044B"])])},opportunity:e=>{const{normalize:t,plural:n}=e;return n([t(["\u0412\u043E\u0437\u043C\u043E\u0436\u043D\u043E\u0441\u0442\u044C"]),t(["\u0412\u043E\u0437\u043C\u043E\u0436\u043D\u043E\u0441\u0442\u0438"])])}},status:{new:e=>{const{normalize:t}=e;return t(["\u041D\u043E\u0432\u0438\u043D\u043A\u0430"])},dev:e=>{const{normalize:t}=e;return t(["\u0420\u0430\u0437\u0440\u0430\u0431\u043E\u0442\u043A\u0430"])},process:e=>{const{normalize:t}=e;return t(["\u041F\u0440\u043E\u0446\u0435\u0441\u0441"])},product:e=>{const{normalize:t}=e;return t(["\u041F\u0440\u043E\u0434\u0443\u043A\u0442"])},pause:e=>{const{normalize:t}=e;return t(["\u041D\u0430 \u043F\u0430\u0443\u0437\u0435"])},ondemand:e=>{const{normalize:t}=e;return t(["\u041F\u043E \u0437\u0430\u043F\u0440\u043E\u0441\u0443"])},finish:e=>{const{normalize:t}=e;return t(["\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043D\u043E"])},null:e=>{const{normalize:t}=e;return t(["\u0411\u0435\u0437 \u0441\u0442\u0430\u0442\u0443\u0441\u0430"])}},date:{start:e=>{const{normalize:t}=e;return t(["\u0414\u0430\u0442\u0430 \u043D\u0430\u0447\u0430\u043B\u0430"])},finish:e=>{const{normalize:t}=e;return t(["\u0414\u0430\u0442\u0430 \u043E\u043A\u043E\u043D\u0447\u0430\u043D\u0438\u044F"])}},log:{title:e=>{const{normalize:t}=e;return t(["\u041B\u043E\u0433"])}},comment:e=>{const{normalize:t,plural:n}=e;return n([t(["\u041A\u043E\u043C\u043C\u0435\u043D\u0442\u0430\u0440\u0438\u0439"]),t(["\u041A\u043E\u043C\u043C\u0435\u043D\u0442\u0430\u0440\u0438\u0438"])])},link:e=>{const{normalize:t,plural:n}=e;return n([t(["\u0421\u0441\u044B\u043B\u043A\u0430"]),t(["\u0421\u0441\u044B\u043B\u043A\u0438"])])},description:e=>{const{normalize:t}=e;return t(["\u041E\u043F\u0438\u0441\u0430\u043D\u0438\u0435"])},def:{design:e=>{const{normalize:t}=e;return t(["C\u043E\u0432\u043E\u043A\u0443\u043F\u043D\u043E\u0441\u0442\u044C \u043E\u0431\u0449\u0435\u0441\u0442\u0432\u0435\u043D\u043D\u043E-\u0437\u043D\u0430\u0447\u0438\u043C\u044B\u0445 \u043F\u0440\u043E\u0435\u043A\u0442\u043E\u0432, \u043E\u0431\u044A\u0435\u0434\u0438\u043D\u0451\u043D\u043D\u044B\u0445 \u043E\u0431\u0449\u0435\u0439 \u0438\u0434\u0435\u0435\u0439"])},project:e=>{const{normalize:t}=e;return t(["\u0412\u044B\u043F\u043E\u043B\u043D\u0438\u043C\u0430\u044F \u043F\u043E\u0441\u043B\u0435\u0434\u043E\u0432\u0430\u0442\u0435\u043B\u044C\u043D\u043E\u0441\u0442\u044C \u0441\u043A\u043E\u043E\u0440\u0434\u0438\u043D\u0438\u0440\u043E\u0432\u0430\u043D\u043D\u044B\u0445 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0439 \u043B\u044E\u0434\u0435\u0439, \u043D\u0430\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u043D\u0430\u044F \u043D\u0430 \u0434\u043E\u0441\u0442\u0438\u0436\u0435\u043D\u0438\u0435 \u0447\u0435\u0442\u043A\u0438\u0445 \u0446\u0435\u043B\u0435\u0439 \u0432 \u0438\u0437\u0432\u0435\u0441\u0442\u043D\u044B\u0445 \u0443\u0441\u043B\u043E\u0432\u0438\u044F\u0445 \u0438 \u0432 \u043E\u043F\u0440\u0435\u0434\u0435\u043B\u0451\u043D\u043D\u044B\u0439 \u0441\u0440\u043E\u043A"])},object:e=>{const{normalize:t}=e;return t(["\u041C\u0430\u0442\u0435\u0440\u0438\u0430\u043B\u044C\u043D\u0430\u044F \u0438\u043B\u0438 \u0438\u043D\u0444\u043E\u0440\u043C\u0430\u0446\u0438\u043E\u043D\u043D\u0430\u044F \u0446\u0435\u043B\u043E\u0441\u0442\u043D\u0430\u044F \u0441\u0443\u0449\u043D\u043E\u0441\u0442\u044C"])},event:e=>{const{normalize:t}=e;return t(["C\u0442\u0440\u0443\u043A\u0442\u0443\u0440\u0438\u0440\u043E\u0432\u0430\u043D\u043D\u0430\u044F \u0441\u043E\u0432\u043C\u0435\u0441\u0442\u043D\u0430\u044F \u0434\u0435\u044F\u0442\u0435\u043B\u044C\u043D\u043E\u0441\u0442\u044C \u043B\u044E\u0434\u0435\u0439 \u0432 \u043A\u043E\u043D\u043A\u0440\u0435\u0442\u043D\u043E\u043C \u043C\u0435\u0441\u0442\u0435 \u0432 \u043E\u043F\u0440\u0435\u0434\u0435\u043B\u0435\u043D\u043D\u043E\u0435 \u0432\u0440\u0435\u043C\u044F"])},task:e=>{const{normalize:t}=e;return t(["\u041E\u043F\u0438\u0441\u0430\u043D\u0438\u0435 \u0440\u0435\u0437\u0443\u043B\u044C\u0442\u0430\u0442\u0438\u0432\u043D\u043E\u0433\u043E \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044F \u0441\u043E \u0432\u0441\u0435\u0439 \u043D\u0435\u043E\u0431\u0445\u043E\u0434\u0438\u043C\u043E\u0439 \u0434\u043B\u044F \u0435\u0433\u043E \u0441\u043E\u0432\u0435\u0440\u0448\u0435\u043D\u0438\u044F \u0438\u043D\u0444\u043E\u0440\u043C\u0430\u0446\u0438\u0438"])},purchase:e=>{const{normalize:t}=e;return t(["\u041F\u043E\u0441\u0442\u0430\u0432\u043A\u0430 \u043D\u0435\u043E\u0431\u0445\u043E\u0434\u0438\u043C\u044B\u0445 \u0434\u043B\u044F \u0440\u0435\u0430\u043B\u0438\u0437\u0430\u0446\u0438\u0438 \u043F\u0440\u043E\u0435\u043A\u0442\u0430 \u0438\u043D\u0441\u0442\u0440\u0443\u043C\u0435\u043D\u0442\u043E\u0432, \u043C\u0430\u0442\u0435\u0440\u0438\u0430\u043B\u043E\u0432 \u0438 \u0438\u043D\u0444\u043E\u0440\u043C\u0430\u0446\u0438\u0438"])},result:e=>{const{normalize:t}=e;return t(["\u0423\u0441\u043F\u0435\u0448\u043D\u043E\u0435 \u0437\u0430\u043A\u043B\u044E\u0447\u0438\u0442\u0435\u043B\u044C\u043D\u043E\u0435 \u0441\u043B\u0435\u0434\u0441\u0442\u0432\u0438\u0435 \u0446\u0435\u043B\u0435\u043D\u0430\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u043D\u044B\u0445 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0439"])},thing:e=>{const{normalize:t}=e;return t(["\u041C\u0430\u0442\u0435\u0440\u0438\u0430\u043B\u044C\u043D\u044B\u0439 \u043F\u0440\u0435\u0434\u043C\u0435\u0442"])},opportunity:e=>{const{normalize:t}=e;return t(["\u041D\u043E\u0432\u044B\u0439 \u043E\u043F\u044B\u0442, \u043A\u043E\u0442\u043E\u0440\u044B\u0439 \u043F\u0440\u0438\u044F\u0442\u043D\u043E \u043F\u0440\u043E\u0436\u0438\u0442\u044C"])}},app:{title:e=>{const{normalize:t}=e;return t(["\u041B\u0435\u043D\u0442\u044B"])},welcome:e=>{const{normalize:t}=e;return t(["\u0414\u043E\u0431\u0440\u043E \u043F\u043E\u0436\u0430\u043B\u043E\u0432\u0430\u0442\u044C!"])},description:e=>{const{normalize:t}=e;return t(["\u0418\u043D\u0441\u0442\u0440\u0443\u043C\u0435\u043D\u0442 \u0441\u043E\u0432\u043C\u0435\u0441\u0442\u043D\u043E\u0439 \u0440\u0430\u0437\u0440\u0430\u0431\u043E\u0442\u043A\u0438 \u0438 \u0440\u0435\u0430\u043B\u0438\u0437\u0430\u0446\u0438\u0438 \u0437\u0430\u0442\u0435\u0439"])}},subtitle:e=>{const{normalize:t}=e;return t(["\u041F\u043E\u0434\u0437\u0430\u0433\u043E\u043B\u043E\u0432\u043E\u043A"])}};const ht={en:rs,ru:us},Me=Qt({legacy:!0,locale:"en",fallbackLocale:"en",messages:ht});Me.global.locale;const cs=["en","ru"];function $t(e){Me.global.locale=e}const gt=Jt();for(let e=0;e<gt.value.length;e++){const t=gt.value[e];if(ht[t]){$t(t);break}}const Ne=e=>(I("data-v-1995ad0d"),e=e(),j(),e),_s={class:"markdown",id:"main"},ds=Ne(()=>i("h1",null,"Welcome to the Feeds!",-1)),ps=Ne(()=>i("p",null,"The tool for people to collaborate on shared ideas. Everyone can create and publish their projects and everyone can engage in cocreation of them. It can be used to better understand each other and synchronize our intentions in order to reach common goals.",-1)),vs=Ne(()=>i("p",null,"This app is intended to be fast, reliable and free. So it's developed only by those who are passionate about the new level of social collaboration. Like social media creates chaos in our heads with their smart feeds with huge amount of ads, the Project App can put structure to our ideas and deeds with a particular project realization model. Structured project info can help people connect, mutually coordinate and collaborate in a new more intense but fun way.",-1)),ms=[ds,ps,vs];function fs(e,t){return r(),c("main",_s,ms)}const ys={};var hs=$(ys,[["render",fs],["__scopeId","data-v-1995ad0d"]]);const $s=e=>(I("data-v-37843b7e"),e=e(),j(),e),gs={class:"auth"},bs=$s(()=>i("h4",null,"Welcome!",-1)),ks=["v-show"],ws=["v-show"],xs={setup(e){const t=Ee();Ce(()=>w.is,()=>{w.is&&t.push("/my")});const n=g(""),s=g(""),o=g(null);return Ce(n,l=>{Ve(l,a=>{o.value=a})}),(l,a)=>(r(),c("main",gs,[bs,i("form",{id:"auth",onSubmit:a[4]||(a[4]=G(()=>{},["prevent"]))},[O(i("input",{class:"mv2",type:"text",placeholder:"Login","onUpdate:modelValue":a[0]||(a[0]=d=>n.value=d)},null,512),[[Y,n.value]]),O(i("input",{class:"mv2",type:"password",placeholder:"Password",name:"password","onUpdate:modelValue":a[1]||(a[1]=d=>s.value=d)},null,512),[[Y,s.value]]),v(re,{name:"list"},{default:h(()=>[i("button",{key:"auth","v-show":n.value&&!o.value,onClick:a[2]||(a[2]=d=>u(ct)(n.value,s.value))},"Log in",8,ks),i("button",{key:"create","v-show":n.value&&o.value,onClick:a[3]||(a[3]=d=>u(ut)(n.value,s.value))},"Create a new user",8,ws)]),_:1})],32)]))}};var Ss=$(xs,[["__scopeId","data-v-37843b7e"]]);function zs(e,t){const n=T("router-view");return r(),x(n,null,{default:h(({Component:s})=>[v(N,{name:"fade"},{default:h(()=>[(r(),x(ee(s)))]),_:2},1024)]),_:1})}const Cs={};var Is=$(Cs,[["render",zs],["__scopeId","data-v-792d7092"]]);const ue={design:["project"],project:["opportunity","event","object"],event:["opportunity","task","purchase"],object:["opportunity","task","purchase"],task:["result"],purchase:["thing"],opportunity:[],result:[],thing:[]},Se=Object.keys(ue),js=["new","dev","process","product","pause","ondemand","finish"],oe={"feeds-app":{title:"Open feeds",subtitle:"",description:"First clean run of frukt in the app",model:ue},"project-app":{title:"Project app",subtitle:"One of dirty runs of previous versions of the app",description:"may be very buggy!",model:{design:["project"],project:["design"]}}};const Os=["src"],Ds={props:{type:{type:String,default:"skill"},path:{type:String,default:"gray"}},setup(e){return(t,n)=>(r(),c("img",{class:"type-icon",src:`/svg/${e.path}/${e.type}.svg`,alt:""},null,8,Os))}};var Z=$(Ds,[["__scopeId","data-v-efff6e62"]]);const Us=e=>(I("data-v-7925b0d8"),e=e(),j(),e),Fs={class:"type"},As=Us(()=>i("div",{class:"spacer"},null,-1)),Bs={class:"count"},Es={class:"title"},Ls={props:{type:String,parent:String},setup(e){const t=e,n=g({});let s;t.parent?s=S.get(t.parent):s=S.get(q),n.value={},s.get(t.type).once((l,a)=>{if(l)for(let d in l)n.value[d]=!0});const o=P(()=>Object.keys(n.value).length);return(l,a)=>{const d=Z;return r(),c("div",Fs,[i("header",null,[v(d,{type:e.type,kind:"gray"},null,8,["type"]),As,i("div",Bs,f(u(o)),1)]),i("section",null,[i("div",Es,f(l.$tc(`type.${e.type}`,u(o))),1)])])}}};var bt=$(Ls,[["__scopeId","data-v-7925b0d8"]]);const Ps=e=>(I("data-v-6812ff67"),e=e(),j(),e),qs={id:"main"},Ts=Ps(()=>i("div",{class:"title"},"Collectives",-1)),Rs={setup(e){se("Organisations");const t=g("");return(n,s)=>{const o=T("router-link"),l=bt;return r(),c("main",qs,[Ts,(r(!0),c(D,null,F(u(oe),(a,d)=>(r(),c("div",{class:"types",key:a},[v(o,{class:"title",to:`/c/${d}`},{default:h(()=>[C(f(a.title),1)]),_:2},1032,["to"]),(r(!0),c(D,null,F(Object.keys(a.model),_=>(r(),x(l,{onClick:p=>n.$router.push(`/c/${d}/${_}`),key:_,type:_,parent:d},null,8,["onClick","type","parent"]))),128))]))),128)),i("form",{class:"custom",onSubmit:s[1]||(s[1]=G(()=>{},["prevent","stop"]))},[O(i("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=a=>t.value=a)},null,512),[[Y,t.value]]),v(o,{to:`/c/${t.value}`},{default:h(()=>[C(f(t.value),1)]),_:1},8,["to"])],32)])}}};var Vs=$(Rs,[["__scopeId","data-v-6812ff67"]]);const Ms={id:"main"},Ns={class:"title"},Gs=C("Collectives /"),Hs={props:{collective:String},setup(e){return(t,n)=>{const s=T("router-link"),o=T("router-view");return r(),c("main",Ms,[i("div",Ns,[Gs,v(s,{to:"/c/"},{default:h(()=>{var l,a;return[C(f(((a=(l=u(oe))==null?void 0:l[e.collective])==null?void 0:a.title)||e.collective),1)]}),_:1})]),v(o,null,{default:h(({Component:l})=>[v(N,{name:"fade"},{default:h(()=>[(r(),x(ee(l)))]),_:2},1024)]),_:1})])}}};var Ws=$(Hs,[["__scopeId","data-v-5280cfa0"]]);const Ks={class:"collective"},Qs={class:"types"},Js={props:{type:String,collective:String},setup(e){const t=e,n=P(()=>oe[t.collective]?Object.keys(oe[t.collective].model):Object.keys(ue));return(s,o)=>{const l=Z,a=T("router-view");return r(),c("div",Ks,[i("div",Qs,[(r(!0),c(D,null,F(u(n),d=>(r(),x(l,{class:L(["type",{active:d==e.type}]),onClick:_=>s.$router.push(`/c/${e.collective}/${d}`),key:d,type:d},null,8,["onClick","class","type"]))),128))]),v(a,null,{default:h(({Component:d})=>[v(N,{name:"fade"},{default:h(()=>[(r(),x(ee(d)))]),_:2},1024)]),_:1})])}}};var Ys=$(Js,[["__scopeId","data-v-143e281c"]]);function ce(e){if(!e)return;let t=new Date(Number(e));return{date:t.toLocaleDateString(),time:t.toLocaleTimeString()}}const kt=e=>(I("data-v-0266bd50"),e=e(),j(),e),Xs={class:"logs"},Zs={class:"log-panel"},eo={class:"title"},to=kt(()=>i("div",{class:"spacer"},null,-1)),no={class:"count"},so=kt(()=>i("div",{class:"i-la-angle-down"},null,-1)),oo=[so],lo={class:"date"},ao={class:"tag"},io={class:"text"},ro={props:{id:String,editable:Boolean},setup(e){const t=e,n=R({open:!1,total:0}),s=R({});S.get(t.id).get("log").map().on((l,a)=>{s[a]=l});const o=g([]);return J(()=>{let l=Object.entries(s);n.total=l.length;let a=l.sort((d,_)=>d?_?_[0]-d[0]:1:-1);n.open?o.value=a:o.value=a.slice(0,2)}),(l,a)=>(r(),c("div",Xs,[i("div",Zs,[i("div",eo,f(l.$t("log.title")),1),to,i("div",no,f(u(n).total),1),e.editable?(r(),c("span",{key:0,onClick:a[0]||(a[0]=d=>u(n).open=!u(n).open)},oo)):m("",!0)]),v(re,{name:"list"},{default:h(()=>[(r(!0),c(D,null,F(o.value,(d,_)=>(r(),c("div",{class:L(["log",{[d[1].split("|")[0]]:!0}]),key:_},[i("div",lo,f(u(ce)(d[0],"short").date),1),i("div",ao,f(d[1].split("|")[0]),1),i("div",io,f(d[1].split("|")[1]),1)],2))),128))]),_:1})]))}};var uo=$(ro,[["__scopeId","data-v-0266bd50"]]);const Ge=e=>(I("data-v-721802c4"),e=e(),j(),e),co={key:0,class:"p-1"},_o={key:1,class:"time"},po=Ge(()=>i("div",{class:"i-la-pen"},null,-1)),vo=[po],mo=Ge(()=>i("div",{class:"i-la-check"},null,-1)),fo=[mo],yo=Ge(()=>i("div",{class:"i-la-times"},null,-1)),ho=[yo],$o={props:{comment:Object},emits:{edit:e=>e.timestamp&&e.text},setup(e){const t=e,n=g(!1),s=t.comment.text;return(o,l)=>{var d;const a=de;return r(),c("div",{class:"comment p-2 my-2 flex relative items-center flex-row flex-wrap rounded-xl",key:e.comment.text},[v(a,{id:e.comment.author},null,8,["id"]),n.value?m("",!0):(r(),c("div",co,f(e.comment.text),1)),n.value?m("",!0):(r(),c("div",_o,f(u(ce)(e.comment.timestamp).date),1)),i("form",null,[n.value?O((r(),c("input",{key:0,"onUpdate:modelValue":l[0]||(l[0]=_=>Yt(s)?s.value=_:null)},null,512)),[[Y,u(s)]]):m("",!0),e.comment.author==((d=u(w).is)==null?void 0:d.pub)&&!n.value?(r(),c("button",{key:1,class:"edit",onClick:l[1]||(l[1]=_=>n.value=!0)},vo)):m("",!0),n.value?(r(),c("button",{key:2,class:"m-2",onClick:l[2]||(l[2]=_=>{o.$emit("edit",{timestamp:e.comment.timestamp,text:u(s)}),n.value=!1})},fo)):m("",!0),n.value?(r(),c("button",{key:3,class:"m-2",onClick:l[3]||(l[3]=_=>n.value=!1)},ho)):m("",!0)])])}}};var go=$($o,[["__scopeId","data-v-721802c4"]]);const Oe=e=>(I("data-v-2be54de2"),e=e(),j(),e),bo=Oe(()=>i("div",{class:"i-fe-comment-o"},null,-1)),ko={class:"title"},wo=Oe(()=>i("div",{class:"spacer"},null,-1)),xo={class:"counter"},So=Oe(()=>i("span",{class:"chevron"},[i("div",{class:"i-la-angle-down"})],-1)),zo={key:0},Co={class:"list"},Io=Oe(()=>i("button",{class:"send",type:"submit"},[i("div",{class:"i-ri-send-plane-line"})],-1)),jo={props:{id:String},setup(e){const t=e;g();const n=g(!0),s=g(""),o=P(()=>Object.keys(l).length),l=R({});Q.get("user").map().get("pub").on(p=>{S.user(p).get(q).get("comment").get(t.id.slice(90+q.length)).map().on((y,b)=>{l[b]={timestamp:b,author:p,text:y}})});const a=P(()=>Object.values(l).sort((y,b)=>Number(y.timestamp)-Number(b.timestamp)));function d({timestamp:p,text:y}){S.user().get(q).get("comment").get(t.id.slice(90+q.length)).get(p).put(y)}function _(){if(!!w.is){if(!s.value){_e("empty comment!");return}S.user().get(q).get("comment").get(t.id.slice(90+q.length)).get(Date.now()).put(s.value),s.value=""}}return(p,y)=>{const b=go,k=de;return r(),c("section",{class:L(["comments",{open:n.value}])},[i("header",{class:"row",onClick:y[0]||(y[0]=U=>n.value=!n.value)},[bo,i("div",ko,f(p.$tc("comment",u(o))),1),wo,i("div",xo,f(u(o)),1),So]),v(N,{name:"fade"},{default:h(()=>[n.value?(r(),c("main",zo,[i("div",Co,[v(re,{name:"list"},{default:h(()=>[(r(!0),c(D,null,F(u(a),U=>(r(),x(b,{key:U.timestamp,comment:U,onEdit:d},null,8,["comment"]))),128))]),_:1})]),u(w).is&&n.value?(r(),c("form",{key:0,onSubmit:y[2]||(y[2]=G(U=>_(),["prevent"]))},[v(k,{id:u(w).is.pub},null,8,["id"]),O(i("input",{class:"input",name:"text",rows:"1","onUpdate:modelValue":y[1]||(y[1]=U=>s.value=U)},null,512),[[Y,s.value]]),Io],32)):m("",!0)])):m("",!0)]),_:1})],2)}}};var Oo=$(jo,[["__scopeId","data-v-2be54de2"]]);const wt=e=>(I("data-v-6803ec0b"),e=e(),j(),e),Do={class:"hash"},Uo={class:"main"},Fo={class:"parties"},Ao=wt(()=>i("div",{class:"p"},"TO",-1)),Bo={class:"details"},Eo=wt(()=>i("div",{class:"spacer"},null,-1)),Lo={class:"at"},Po={props:{gift:Object,hash:String},setup(e){return(t,n)=>{const s=de;return r(),c("div",{class:"gift",style:V({backgroundColor:u(ne)(e.hash)})},[i("div",Do,f(e.gift.way),1),i("div",Uo,f(e.gift.quantity)+" "+f(e.gift.quality),1),i("div",Fo,[v(s,{id:e.gift.from},null,8,["id"]),Ao,v(s,{id:e.gift.to},null,8,["id"])]),i("div",Bo,f(e.gift.text),1),Eo,i("div",Lo,f(u(ce)(e.gift.timestamp).date),1)],4)}}};var qo=$(Po,[["__scopeId","data-v-6803ec0b"]]);const To=e=>(I("data-v-165b91b7"),e=e(),j(),e),Ro={class:"row"},Vo=["value"],Mo={class:"row"},No={class:"row"},Go=To(()=>i("button",{type:"submit"},"Send",-1)),Ho={props:{soul:String},emits:["send"],setup(e,{emit:t}){var a;const n=e,s=["public","private"],o=g({way:"public",quantity:1,quality:"USD",text:"",for:n.soul,from:(a=w==null?void 0:w.is)==null?void 0:a.pub,to:n.soul.slice(1,88)});async function l(){let d=ze(fe({},o.value),{timestamp:Date.now()}),_=await Pe.work(d,null,null,{name:"SHA-256"});t("send",{hash:_,content:d})}return(d,_)=>(r(),c("form",{onSubmit:_[4]||(_[4]=G(p=>l(),["prevent"]))},[i("div",Ro,[O(i("select",{"onUpdate:modelValue":_[0]||(_[0]=p=>o.value.way=p)},[(r(),c(D,null,F(s,p=>i("option",{value:p},f(p),9,Vo)),64))],512),[[Xt,o.value.way]])]),i("div",Mo,[O(i("input",{type:"number",min:"0",step:"1","onUpdate:modelValue":_[1]||(_[1]=p=>o.value.quantity=p)},null,512),[[Y,o.value.quantity]]),O(i("input",{type:"text","onUpdate:modelValue":_[2]||(_[2]=p=>o.value.quality=p)},null,512),[[Y,o.value.quality]])]),i("div",No,[O(i("textarea",{"onUpdate:modelValue":_[3]||(_[3]=p=>o.value.text=p)},null,512),[[Y,o.value.text]])]),Go],32))}};var Wo=$(Ho,[["__scopeId","data-v-165b91b7"]]);const xt=e=>(I("data-v-5b840114"),e=e(),j(),e),Ko={class:"title"},Qo=xt(()=>i("div",{class:"spacer"},null,-1)),Jo=xt(()=>i("div",{class:"i-la-plus"},null,-1)),Yo=[Jo],Xo={class:"list"},Zo={props:{soul:String},setup(e){const t=g(!1),n=g({});async function s({hash:o,content:l}){n.value[o]=l,t.value=!1}return(o,l)=>{const a=Z,d=Wo,_=qo;return r(),c("section",null,[i("div",Ko,[v(a,{type:"gift"}),i("h3",null,f(o.$tc("type.gift",10)),1),Qo,i("button",{class:"support",onClick:l[0]||(l[0]=p=>t.value=!t.value)},Yo)]),v(N,{name:"fade"},{default:h(()=>[t.value?(r(),x(d,{key:0,soul:e.soul,onSend:s},null,8,["soul"])):m("",!0)]),_:1}),i("div",Xo,[v(re,{name:"fade"},{default:h(()=>[(r(!0),c(D,null,F(n.value,(p,y)=>(r(),x(_,{key:y,gift:p,hash:y},null,8,["gift","hash"]))),128))]),_:1})])])}}};var el=$(Zo,[["__scopeId","data-v-5b840114"]]);const tl={key:0,class:"count"},nl={props:{id:String,type:String},setup(e){const t=e,n=g({});S.get(t.id).get(t.type).once((o,l)=>{if(o)for(let a in o)o[a]&&a!="_"&&(n.value[a]=!0)});const s=P(()=>Object.keys(n.value).length);return(o,l)=>{const a=Z;return u(s)>0?(r(),c("div",tl,[v(a,{type:e.type},null,8,["type"]),C(f(u(s)),1)])):m("",!0)}}};var sl=$(nl,[["__scopeId","data-v-65f13a80"]]);const ol={class:"counters"},ll={props:{id:String},setup(e){const t=e,n=g();S.get(t.id).get("type").on(o=>{n.value=o});const s=P(()=>ue[n.value]);return(o,l)=>{const a=sl;return r(),c("div",ol,[(r(!0),c(D,null,F(u(s),d=>(r(),x(a,{id:e.id,type:d,key:d},null,8,["id","type"]))),128))])}}};var al=$(ll,[["__scopeId","data-v-499ab184"]]);const il={key:0,class:"text-lg flex items-center"},rl=i("div",{class:"i-fe-comment-o"},null,-1),ul={props:{id:String},setup(e){const t=e,n=R({});Q.get("user").map().get("pub").on(o=>{S.user(o).get(q).get("comment").get(t.id.slice(90+q.length)).map().on((l,a)=>{n[a]={timestamp:a,author:o,text:l}})});const s=P(()=>Object.keys(n).length);return(o,l)=>u(s)?(r(),c("div",il,[rl,i("span",null,f(u(s)),1)])):m("",!0)}};const cl=e=>(I("data-v-19fc4873"),e=e(),j(),e),_l={class:"state"},dl=cl(()=>i("div",{class:"i-la-pen"},null,-1)),pl=[dl],vl={key:0,class:"choose"},ml=["onClick"],fl={props:{id:String,editable:Boolean},setup(e){const t=e,n=g("new"),s=g(!1),o=S.get(t.id).get("status");o.on(a=>{n.value=a});function l(a){o.put(a),s.value=!1}return(a,d)=>{const _=Zt("t");return r(),c("div",_l,[i("div",{class:L(["status",{[n.value]:!0}]),onClick:d[0]||(d[0]=G(p=>s.value=!s.value,["stop"]))},[C(f(a.$t("status."+n.value)),1),O(i("span",null,pl,512),[[W,e.editable]])],2),v(N,{name:"fade"},{default:h(()=>[e.editable?O((r(),c("div",vl,[(r(!0),c(D,null,F(u(js),p=>O((r(),c("span",{class:L(["status",{[p]:!0}]),key:p,onClick:G(y=>l(p),["stop"])},null,10,ml)),[[_,"status."+p]])),128))],512)),[[W,s.value]]):m("",!0)]),_:1})])}}};var St=$(fl,[["__scopeId","data-v-19fc4873"]]);const yl={key:0,class:"route"},hl=["onClick"],$l={class:"title"},gl={props:{id:String},emits:["open"],setup(e){const t=e,n=R([]),s=P(()=>[...n].reverse());return J(async()=>{n.length=0;let o=t.id;for(let l=0;l<12&&o;l++){let a=await S.get(o).then();a&&a.type&&a.title&&(a.id=$e(o),a.soul=o,n[l]=a),o=a==null?void 0:a.parent}}),(o,l)=>{const a=Z;return u(s).length>0?(r(),c("div",yl,[(r(!0),c(D,null,F(u(s),(d,_)=>(r(),c("span",{class:"path",onClick:p=>o.$emit("open",{id:d.id,type:d.type,soul:d.soul}),key:d,style:V({backgroundColor:u(ne)(u(te)(d))})},[v(a,{type:d.type},null,8,["type"]),i("span",$l,f(d.title),1)],12,hl))),128))])):m("",!0)}}};var zt=$(gl,[["__scopeId","data-v-38b896f4"]]);const bl=e=>(I("data-v-3e24e071"),e=e(),j(),e),kl={class:"content"},wl={class:"header"},xl={class:"title"},Sl={class:"name"},zl=bl(()=>i("div",{class:"i-la-unlink"},null,-1)),Cl=[zl],Il={key:0,class:"description"},jl={class:"info"},Ol={key:0,class:"icon"},Dl=["src"],Ul={class:"side"},Fl={props:{showRoute:{type:Boolean,default:!0},typed:{type:Boolean,default:!1},unlinkable:{type:Boolean,default:!1},item:{type:Object,default:{type:"item",title:"Basic item",createdAt:345298357,updatedAt:3482489005,soul:"example"}}},emits:["del"],setup(e){return(t,n)=>{var p;const s=zt,o=Z,l=St,a=de,d=ul,_=al;return r(),c("li",{class:"card",style:V({backgroundColor:u(ne)(e.item.soul),borderColor:u(ne)(e.item.parent)})},[i("div",kl,[e.showRoute?(r(),x(s,{key:0,class:"small",id:e.item.parent},null,8,["id"])):m("",!0),i("div",wl,[i("div",xl,[i("div",Sl,[C(f(e.item.title),1),e.unlinkable?(r(),c("span",{key:0,class:"unlink",onClick:n[0]||(n[0]=G(y=>t.$emit("del"),["stop","prevent"]))},Cl)):m("",!0)])]),e.item.subtitle?(r(),c("div",Il,f(e.item.subtitle),1)):m("",!0)]),i("div",jl,[e.typed?(r(),x(o,{key:0,class:"type-icon",type:e.item.type},null,8,["type"])):m("",!0),v(l,{id:e.item.soul,editable:u(Re)(e.item.soul)},null,8,["id","editable"]),v(a,{id:(p=e.item)==null?void 0:p.soul.slice(1,88)},null,8,["id"]),v(d,{id:e.item.soul},null,8,["id"])])]),ie(t.$slots,"default",{},void 0,!0),e.item.icon?(r(),c("div",Ol,[i("img",{src:e.item.icon},null,8,Dl)])):m("",!0),i("aside",Ul,[v(_,{id:e.item.soul},null,8,["id"])])],4)}}};var Al=$(Fl,[["__scopeId","data-v-3e24e071"]]);const He=e=>(I("data-v-7ef334a2"),e=e(),j(),e),Bl=He(()=>i("div",{class:"title"},"Search",-1)),El=He(()=>i("label",{for:"search"},[i("div",{class:"i-la-search"})],-1)),Ll=He(()=>i("div",{class:"i-la-times-circle"},null,-1)),Pl=[Ll],ql={emits:["search"],setup(e,{emit:t}){const n=R({text:"",open:!1});return J(()=>{t("search",n.text)}),(s,o)=>(r(),c("div",{class:L(["search",{open:u(n).text}])},[Bl,i("form",null,[El,O(i("input",{type:"text","onUpdate:modelValue":o[0]||(o[0]=l=>u(n).text=l)},null,512),[[Y,u(n).text]]),i("i",{class:"close",onClick:o[1]||(o[1]=G(l=>u(n).text="",["prevent","stop"]))},Pl)])],2))}};var Tl=$(ql,[["__scopeId","data-v-7ef334a2"]]);const De=e=>(I("data-v-83c44f4c"),e=e(),j(),e),Rl={class:"filter"},Vl=De(()=>i("div",{class:"title"},"Filter by",-1)),Ml={class:"controls text-2xl"},Nl=De(()=>i("div",{class:"i-la-star"},null,-1)),Gl=[Nl],Hl=De(()=>i("div",{class:"i-la-eye"},null,-1)),Wl=[Hl],Kl=De(()=>i("div",{class:"i-la-trash"},null,-1)),Ql=[Kl],Jl={props:{my:{type:Object,default:{star:!0,seen:!0,trash:!1},required:!0}},emits:["star","seen","trash"],setup(e){return(t,n)=>(r(),c("div",Rl,[Vl,i("div",Ml,[i("button",{class:L({active:e.my.star}),onClick:n[0]||(n[0]=s=>e.my.star=!e.my.star)},Gl,2),i("button",{class:L({active:e.my.seen}),onClick:n[1]||(n[1]=s=>e.my.seen=!e.my.seen)},Wl,2),i("button",{class:L({active:e.my.trash}),onClick:n[2]||(n[2]=s=>e.my.trash=!e.my.trash)},Ql,2)])]))}};var Yl=$(Jl,[["__scopeId","data-v-83c44f4c"]]);const Ue=e=>(I("data-v-440875a0"),e=e(),j(),e),Xl={class:"order"},Zl=Ue(()=>i("div",{class:"title"},"Order by",-1)),ea=Ue(()=>i("div",{class:"i-la-sort-alpha-down"},null,-1)),ta=[ea],na=Ue(()=>i("div",{class:"i-la-sort-numeric-up-alt"},null,-1)),sa=[na],oa=Ue(()=>i("div",{class:"la-sort-amount-up-solid"},null,-1)),la=[oa],aa={props:{by:{type:String,required:!0}},emits:["order"],setup(e){return g(!1),(t,n)=>(r(),c("div",Xl,[Zl,i("button",{class:L({active:e.by=="AB"}),onClick:n[0]||(n[0]=s=>t.$emit("order","AB"))},ta,2),i("button",{class:L({active:e.by=="createdAt"}),onClick:n[1]||(n[1]=s=>t.$emit("order","createdAt"))},sa,2),i("button",{class:L({active:e.by=="rating"}),onClick:n[2]||(n[2]=s=>t.$emit("order","rating"))},la,2)]))}};var ia=$(aa,[["__scopeId","data-v-440875a0"]]);const ra={class:"statuses"},ua=["onClick"],ca={props:{status:Object,count:Object},setup(e){const t=e,n=P(()=>{let s={};for(let o in t.count)t.count[o]&&(s[o]=t.count[o]);return s});return(s,o)=>(r(),c("div",ra,[(r(!0),c(D,null,F(u(n),(l,a)=>(r(),c("div",{class:L(["status",{active:e.status[a],[a]:!0}]),onClick:d=>e.status[a]=!e.status[a],key:a},f(s.$t(`status.${a}`))+" "+f(l),11,ua))),128))]))}};var _a=$(ca,[["__scopeId","data-v-64b22563"]]);const pe=e=>(I("data-v-34a4d90e"),e=e(),j(),e),da={class:"title"},pa={key:0,class:"count"},va=pe(()=>i("div",{class:"i-la-plus"},null,-1)),ma=[va];const fa=pe(()=>i("div",{class:"spacer"},null,-1)),ya={key:3,class:"buttons"},ha=pe(()=>i("div",{class:"i-la-tag"},null,-1)),$a=[ha],ga=pe(()=>i("div",{class:"i-la-sort-alpha-down"},null,-1)),ba=[ga],ka=pe(()=>i("div",{class:"i-la-filter"},null,-1)),wa=[ka],xa=pe(()=>i("div",{class:"i-la-search"},null,-1)),Sa=[xa],za={class:"filters"},Ca={props:{open:Boolean,type:String,options:Object,sorted:Object,editable:Boolean},emits:["toggle"],setup(e,{emit:t}){const n=e,s=en("list-options",{open:!1,add:!1,filter:!1,order:!1,status:!0,search:!1}),o=4;return g(n.open),g(n.open),g(n.open),g(n.open),g(n.open),g(!0),(l,a)=>{const d=Z,_=_a,p=ia,y=Yl,b=Tl;return r(),c("aside",null,[i("div",da,[v(d,{type:e.type},null,8,["type"]),i("h3",{onClick:a[0]||(a[0]=k=>l.$emit("toggle"))},f(l.$tc(`type.${e.type}`,e.sorted.count)),1),e.sorted.total>0?(r(),c("div",pa,f(e.sorted.count)+" / "+f(e.sorted.total),1)):m("",!0),u(w).is&&e.editable?(r(),c("button",{key:1,class:L({active:u(s).add}),onClick:a[1]||(a[1]=k=>u(s).add=!u(s).add)},ma,2)):m("",!0),(u(w).is&&e.editable,m("",!0)),fa,e.sorted.total>0?(r(),c("div",ya,[i("button",{class:L({active:u(s).status}),onClick:a[3]||(a[3]=k=>u(s).status=!u(s).status)},$a,2),e.sorted.total>o?(r(),c("button",{key:0,class:L({active:u(s).order}),onClick:a[4]||(a[4]=k=>u(s).order=!u(s).order)},ba,2)):m("",!0),u(w).is?(r(),c("button",{key:1,class:L({active:u(s).filter}),onClick:a[5]||(a[5]=k=>u(s).filter=!u(s).filter)},wa,2)):m("",!0),e.sorted.total>o?(r(),c("button",{key:2,class:L({active:u(s).search}),onClick:a[6]||(a[6]=k=>u(s).search=!u(s).search)},Sa,2)):m("",!0)])):m("",!0)]),i("div",za,[v(re,{name:"fade"},{default:h(()=>[O(v(_,{key:"status",count:e.sorted.status,status:e.options.status},null,8,["count","status"]),[[W,u(s).status]]),e.sorted.total>o?O((r(),x(p,{key:"order",by:e.options.orderBy,onOrder:a[7]||(a[7]=k=>e.options.orderBy=k)},null,8,["by"])),[[W,u(s).order]]):m("",!0),u(w).is?O((r(),x(y,{key:"filter",my:e.options.filterMy},null,8,["my"])),[[W,u(s).filter]]):m("",!0),e.sorted.total>o?O((r(),x(b,{key:"search",onSearch:a[8]||(a[8]=k=>e.options.search=k)},null,512)),[[W,u(s).search]]):m("",!0),u(s).add?ie(l.$slots,"default",{key:"add"},void 0,!0):m("",!0)]),_:3})])])}}};var Ia=$(Ca,[["__scopeId","data-v-34a4d90e"]]);const ja=e=>(I("data-v-328a677c"),e=e(),j(),e),Oa=ja(()=>i("span",null,"ADD",-1)),Da=[Oa],Ua={props:{type:String,parent:String,editable:Boolean,collective:String},emits:["search"],setup(e,{emit:t}){const n=e,s=R({title:null}),o=g();J(()=>{t("search",s.title)});function l(){qn(n.collective,n.type,s,n.parent),s.title=""}return tn(()=>{o.value.active||o.value.focus()}),(a,d)=>(r(),c("form",{class:"add",onSubmit:d[2]||(d[2]=G(()=>{},["prevent"]))},[O(i("input",{class:"title",ref:(_,p)=>{p.adder=_,o.value=_},placeholder:"+",type:"text","onUpdate:modelValue":d[0]||(d[0]=_=>u(s).title=_)},null,512),[[Y,u(s).title,void 0,{trim:!0}]]),u(s).title?(r(),c("button",{key:0,onClick:d[1]||(d[1]=_=>l())},Da)):m("",!0)],32))}};var Fa=$(Ua,[["__scopeId","data-v-328a677c"]]);function Aa(e,t){if(!window.Worker){console.error("No worker support");return}const n=new Worker("/workers/sorter.js"),s=R({list:null,count:0,more:!1,total:0,status:{}});nn([e,t],()=>{e&&o(e)},{immediate:!0,debounce:300});function o(l){n.postMessage({list:st(l),options:st(t)})}return n.onmessage=l=>{s.list=l.data.list,s.count=l.data.count,s.more=l.data.more,s.total=l.data.total,s.status=l.data.statusCount},{sorted:s,options:t}}const Ct=e=>(I("data-v-2621cf1e"),e=e(),j(),e),Ba={class:"holder"},Ea={key:0,class:"item-list"},La={key:1,class:"item-list"},Pa={key:0,class:"overlay"},qa=["onClick"],Ta=Ct(()=>i("div",{class:"i-la-arrow-right"},null,-1)),Ra=[Ta],Va=["onClick"],Ma=Ct(()=>i("div",{class:"i-la-link"},null,-1)),Na=[Ma],Ga={props:{wide:Boolean,type:{type:String,required:!0},parent:String,collective:{type:String,default:q},editable:Boolean,initCollapsed:Boolean},emits:["open"],setup(e,{emit:t}){const n=e,s=R({orderBy:"createdAt",search:"",link:!1,status:{new:!0,dev:!0,process:!0,product:!0,pause:!1,ondemand:!1,finish:!1},filterMy:{star:!1,seen:!0,trash:!0},limit:5,page:7,loading:!0}),o=g({}),l=g(n.initCollapsed);function a(B,A){const E=R({}),{sorted:M}=Aa(E,s);let X;return A?X=S.get(A):X=S.get(n.collective),X.get(B).map().on((z,H)=>{if(z===null){E[H]=null;return}E[H]=fe({},z),E[H].soul=te(z),E[H].id=H}),M}J(()=>{!s.link||(o.value=a(n.type))});const d=a(n.type,n.parent);g(!1);const _=g(null);g(!1);function p(B,A,E){let M=g(!1);return S.get(B).get(A).get(E).once((X,z)=>{M.value=!!X}),M.value}function y(B,A){let E=g(!1);return Q.get(B).get(A).once((M,X)=>{let z=te(M);E.value=Re(z)}),E.value}function b(B,A,E){let M=Q.get(A).get(E);S.get(B).get(A).get(E).put(M),s.link=!1,s.search=""}function k(B,A,E){let M=Q.get(A).get(E);M.get("parent").put(B),S.get(B).get(A).get(E).put(M),s.link=!1,s.search=""}function U(B,A,E){console.log("try unlinking",B,A,E)}return sn(_,([{isIntersecting:B}])=>{B&&(s.limit+=s.page)}),(B,A)=>{const E=Fa,M=Ia,X=Al;return r(),c("div",Ba,[v(M,{open:e.wide,class:L({wide:e.wide}),type:e.type,options:u(s),sorted:u(s).link?o.value:u(d),editable:e.editable,onToggle:A[0]||(A[0]=z=>l.value=!l.value)},{default:h(()=>[e.editable?(r(),x(E,{key:0,type:e.type,collective:e.collective,parent:e.parent},null,8,["type","collective","parent"])):m("",!0)]),_:1},8,["open","class","type","options","sorted","editable"]),u(s).link?m("",!0):O((r(),c("ul",Ea,[v(re,{name:"list"},{default:h(()=>[(r(!0),c(D,null,F(u(d).list,z=>(r(),x(X,{class:"card",onClick:H=>B.$emit("open",{type:e.type,id:z.id,soul:z.soul}),onDel:H=>U(e.parent,e.type,z.id),showRoute:z.parent!=e.parent,key:z.soul,item:z},null,8,["onClick","onDel","showRoute","item"]))),128)),u(d).more?(r(),c("div",{key:0,class:"more",ref:(z,H)=>{H.more=z,_.value=z},onClick:A[1]||(A[1]=z=>u(s).limit+=u(s).page)},f(u(d).list.length)+" / "+f(u(d).count),513)):m("",!0)]),_:1})],512)),[[W,!l.value]]),u(s).link?O((r(),c("ul",La,[v(re,{name:"list"},{default:h(()=>[(r(!0),c(D,null,F(o.value.list,z=>(r(),x(X,{class:"link",showRoute:!0,key:z.soul,item:z},{default:h(()=>[p(e.parent,e.type,z.id)?m("",!0):(r(),c("div",Pa,[y(e.type,z.id)?(r(),c("button",{key:0,onClick:H=>k(e.parent,e.type,z.id)},Ra,8,qa)):m("",!0),i("button",{onClick:H=>b(e.parent,e.type,z.id)},Na,8,Va)]))]),_:2},1032,["item"]))),128)),o.value.more?(r(),c("div",{key:0,class:"more",ref:(z,H)=>{H.more=z,_.value=z},onClick:A[2]||(A[2]=z=>u(s).limit+=u(s).page)},f(o.value.list.length)+" / "+f(o.value.count),513)):m("",!0)]),_:1})],512)),[[W,!l.value]]):m("",!0)])}}};var Fe=$(Ga,[["__scopeId","data-v-2621cf1e"]]);const We=e=>(I("data-v-6a522740"),e=e(),j(),e),Ha={key:0,class:"description"},Wa={class:"title"},Ka=We(()=>i("div",{class:"i-la-pen-alt"},null,-1)),Qa=[Ka],Ja=We(()=>i("div",{class:"i-la-check"},null,-1)),Ya=[Ja],Xa=We(()=>i("div",{class:"i-la-times"},null,-1)),Za=[Xa],ei=["innerHTML"],ti={props:{text:String,id:String,editable:Boolean},emits:["update"],setup(e,{emit:t}){const n=e,s=on({linkify:!0,typographer:!0});s.use(ln,{attrs:{target:"_blank",rel:"noopener"}});const o=g(""),l=g(!1);J(()=>{o.value=n.text});function a(){t("update",o.value),l.value=!1}return(d,_)=>o.value||e.editable?(r(),c("div",Ha,[i("div",Wa,[ie(d.$slots,"default",{},()=>[C(f(d.$t("description")),1)],!0),e.editable&&!l.value?(r(),c("button",{key:0,class:"edit",onClick:_[0]||(_[0]=p=>l.value=!l.value)},Qa)):m("",!0),l.value?(r(),c("button",{key:1,class:"save",onClick:_[1]||(_[1]=p=>a())},Ya)):m("",!0),l.value?(r(),c("button",{key:2,onClick:_[2]||(_[2]=p=>l.value=!1)},Za)):m("",!0)]),l.value?m("",!0):(r(),c("div",{key:0,class:"markdown",innerHTML:u(s).render(o.value||"")},null,8,ei)),l.value?(r(),c("form",{key:1,onSubmit:_[6]||(_[6]=G(()=>{},["prevent"]))},[O(i("textarea",{"onUpdate:modelValue":_[3]||(_[3]=p=>o.value=p),name:"description",onKeyup:[_[4]||(_[4]=ae(G(p=>a(),["meta"]),["enter"])),_[5]||(_[5]=ae(G(p=>a(),["ctrl"]),["enter"]))],rows:10},null,544),[[Y,o.value]])],32)):m("",!0)])):m("",!0)}};var ni=$(ti,[["__scopeId","data-v-6a522740"]]);const It=["star","seen","trash"];function si(e){const t=R({item:e,star:{},seen:{},trash:{}}),n=R({star:!1,seen:!1,trash:!1}),s=R({all:P(()=>s.seen+s.star+s.trash),seen:P(()=>Object.keys(t.seen).length),star:P(()=>Object.keys(t.star).length),trash:P(()=>Object.keys(t.trash).length)});w.is&&It.forEach(a=>{S.user().get(q).get("rate").get(a).map().on((d,_)=>{_==e&&(n[a]=Boolean(te(d)))})}),Q.get("user").map().on((a,d)=>{o(d)});function o(a){let d;const _=S.user(a).once(p=>{d=p}).get(q).get("rate");It.forEach(p=>{_.get(p).get(e).on((y,b)=>{b==e&&(y?t[p][a]=d:delete t[p][a])})})}function l(a){if(!w.is)return;let d=S.get(e);S.user().get(q).get("rate").get(a).get(e).once(function(_){_?this.put(null):this.put(d)})}return{myRate:n,count:s,rate:l}}const ve=e=>(I("data-v-72123fda"),e=e(),j(),e),oi=ve(()=>i("div",{class:"i-la-star"},null,-1)),li=[oi],ai=ve(()=>i("div",{class:"i-la-star-solid"},null,-1)),ii=[ai],ri=ve(()=>i("div",{class:"i-la-eye"},null,-1)),ui=[ri],ci=ve(()=>i("div",{class:"i-la-eye-slash"},null,-1)),_i=[ci],di=ve(()=>i("div",{class:"i-la-trash-alt"},null,-1)),pi=[di],vi=ve(()=>i("div",{class:"i-la-trash-restore-alt"},null,-1)),mi=[vi],fi={props:{id:String,horizontal:Boolean},setup(e){const t=e;let{count:n,myRate:s,rate:o}=si(t.id);return(l,a)=>(r(),c("div",{class:L(["rating",{horizontal:e.horizontal}])},[i("div",{class:L(["star",{active:u(s).star}]),onClick:a[0]||(a[0]=G(d=>u(o)("star"),["stop"]))},[O(i("i",null,li,512),[[W,!u(s).star]]),O(i("i",null,ii,512),[[W,!!u(s).star]]),O(i("span",null,f(u(n).star),513),[[W,u(n).star]])],2),i("div",{class:L(["seen",{active:u(s).seen}]),onClick:a[1]||(a[1]=G(d=>u(o)("seen"),["stop"]))},[O(i("i",null,ui,512),[[W,!u(s).seen]]),O(i("i",null,_i,512),[[W,!!u(s).seen]]),O(i("span",null,f(u(n).seen),513),[[W,u(n).seen]])],2),i("div",{class:L(["trash",{active:u(s).trash}]),onClick:a[2]||(a[2]=G(d=>u(o)("trash"),["stop"]))},[O(i("i",null,pi,512),[[W,!u(s).trash]]),O(i("i",null,mi,512),[[W,!!u(s).trash]]),O(i("span",null,f(u(n).trash),513),[[W,u(n).trash]])],2)],2))}};var yi=$(fi,[["__scopeId","data-v-72123fda"]]);const Ke=e=>(I("data-v-4366eab0"),e=e(),j(),e),hi={key:0,class:"row"},$i={class:"type"},gi=Ke(()=>i("div",{class:"i-la-plus"},null,-1)),bi=[gi],ki=Ke(()=>i("div",{class:"i-la-trash"},null,-1)),wi=[ki],xi={key:0,class:"date"},Si={key:0,class:"edit"},zi=Ke(()=>i("div",{class:"i-la-pen"},null,-1)),Ci=[zi],Ii=["value"],ji={props:{id:String,type:{type:String,default:"start"},editable:Boolean},setup(e){const t=e,n=g(!1),s=g(),o=t.type.charAt(0).toUpperCase()+t.type.slice(1),l=S.get(t.id).get(`date${o}`),a=P(()=>new Date(s.value));function d(){l.put(Date.now())}function _(){l.put(null)}function p(y){let b=Date.parse(y.target.value);l.put(b),n.value=!1}return l.on(y=>{s.value=y}),(y,b)=>s.value||e.editable?(r(),c("div",hi,[i("div",$i,[C(f(y.$t("date."+e.type)),1),!s.value&&e.editable?(r(),c("button",{key:0,onClick:b[0]||(b[0]=k=>d())},bi)):m("",!0),s.value&&e.editable?(r(),c("button",{key:1,onClick:b[1]||(b[1]=k=>_())},wi)):m("",!0)]),s.value?(r(),c("div",xi,[C(f(u(a).toLocaleDateString()),1),e.editable?(r(),c("div",Si,[i("button",{onClick:b[2]||(b[2]=k=>n.value=!n.value)},Ci)])):m("",!0),O(i("form",{onSubmit:b[4]||(b[4]=G(()=>{},["prevent"]))},[i("input",{type:"date",name:"date",pattern:"[0-9]{4}-[0-9]{2}-[0-9]{2}",onInput:b[3]||(b[3]=k=>p(k)),value:u(a).toLocaleDateString("en-CA")},null,40,Ii)],544),[[W,n.value]])])):m("",!0)])):m("",!0)}};var Oi=$(ji,[["__scopeId","data-v-4366eab0"]]);const Qe=e=>(I("data-v-d09e6716"),e=e(),j(),e),Di={key:0,class:"url"},Ui={class:"title"},Fi=Qe(()=>i("div",{class:"i-la-plus"},null,-1)),Ai=[Fi],Bi=["href"],Ei=Qe(()=>i("div",{class:"i-la-pen"},null,-1)),Li=[Ei],Pi=Qe(()=>i("div",{class:"i-la-trash"},null,-1)),qi=[Pi],Ti={props:{editable:Boolean,link:String},emits:{update:e=>!!e},setup(e,{emit:t}){const n=e,s=g(!1),o=g(n.link),l=g(null);function a(){l.value.checkValidity()?t("update",o.value):o.value=n.link,s.value=!1}return(d,_)=>e.link||e.editable?(r(),c("div",Di,[i("span",Ui,f(d.$t("link")),1),e.link?m("",!0):(r(),c("button",{key:0,class:"edit",onClick:_[0]||(_[0]=p=>s.value=!0)},Ai)),!s.value&&e.link?(r(),c("a",{key:1,class:"link",href:e.link,target:"_blank",rel:"nofollow"},f(e.link),9,Bi)):m("",!0),s.value?O((r(),c("input",{key:2,placeholder:"https://www.frkt.ru",ref:(p,y)=>{y.editor=p,l.value=p},onKeyup:[_[1]||(_[1]=ae(p=>a(),["enter"])),_[3]||(_[3]=ae(p=>s.value=!1,["esc"]))],onBlur:_[2]||(_[2]=p=>a()),type:"url","onUpdate:modelValue":_[4]||(_[4]=p=>o.value=p)},null,544)),[[Y,o.value]]):m("",!0),e.link&&e.editable?(r(),c("button",{key:3,class:"edit",onClick:_[5]||(_[5]=p=>s.value=!s.value)},Li)):m("",!0),e.link&&e.editable?(r(),c("button",{key:4,class:"edit",onClick:_[6]||(_[6]=p=>d.$emit("update",null))},qi)):m("",!0),ie(d.$slots,"default",{},void 0,!0)])):m("",!0)}};var Ri=$(Ti,[["__scopeId","data-v-d09e6716"]]);const Vi={key:0,class:"publish"},Mi={props:{soul:String,type:String},setup(e){const t=e,n=$e(t.soul),s=g(!0),o=S.get(q).get(t.type).get(n||at()),l=S.get(t.soul);o.on(_=>{s.value=_});function a(){o.put(null)}function d(){o.put(l)}return(_,p)=>u(Re)(e.soul)?(r(),c("div",Vi,[s.value?(r(),c("button",{key:1,onClick:p[1]||(p[1]=y=>a())},"Unpublish")):(r(),c("button",{key:0,onClick:p[0]||(p[0]=y=>d())},"Publish"))])):m("",!0)}};var Ni=$(Mi,[["__scopeId","data-v-0673eb76"]]);const Je=e=>(I("data-v-327d6e92"),e=e(),j(),e),Gi={key:0,class:"subtitle"},Hi={class:"title"},Wi=Je(()=>i("div",{class:"i-la-pen-alt"},null,-1)),Ki=[Wi],Qi=Je(()=>i("div",{class:"i-la-check"},null,-1)),Ji=[Qi],Yi=Je(()=>i("div",{class:"i-la-times"},null,-1)),Xi=[Yi],Zi={key:0,class:"text"},er={props:{text:String,id:String,editable:Boolean},emits:["update"],setup(e,{emit:t}){const n=e,s=g(""),o=g(!1);J(()=>{s.value=n.text});function l(){t("update",s.value),o.value=!1}return(a,d)=>s.value||e.editable?(r(),c("div",Gi,[i("div",Hi,[ie(a.$slots,"default",{},()=>[C(f(a.$t("subtitle")),1)],!0),e.editable&&!o.value?(r(),c("button",{key:0,class:"edit",onClick:d[0]||(d[0]=_=>o.value=!o.value)},Ki)):m("",!0),o.value?(r(),c("button",{key:1,class:"save",onClick:d[1]||(d[1]=_=>l())},Ji)):m("",!0),o.value?(r(),c("button",{key:2,onClick:d[2]||(d[2]=_=>o.value=!1)},Xi)):m("",!0)]),s.value&&!o.value?(r(),c("div",Zi,f(s.value),1)):m("",!0),o.value?(r(),c("form",{key:1,onSubmit:d[6]||(d[6]=G(()=>{},["prevent"]))},[O(i("textarea",{"onUpdate:modelValue":d[3]||(d[3]=_=>s.value=_),name:"subtitle",onKeyup:[d[4]||(d[4]=ae(G(_=>l(),["meta"]),["enter"])),d[5]||(d[5]=ae(G(_=>l(),["ctrl"]),["enter"]))],rows:10},null,544),[[Y,s.value]])],32)):m("",!0)])):m("",!0)}};var tr=$(er,[["__scopeId","data-v-327d6e92"]]);function nr(){const e={initial:0,loading:1,success:2,failed:3},t=[{title:"Success",color:"#50c0b4"},{title:"Warning",color:"#f59938"},{title:"Danger",color:"#e2342f"}],n={maxFileSize:1024e4},s=R({errors:[],status:null,output:{},isInitial:P(()=>s.status===e.initial),isLoading:P(()=>s.status===e.loading),isSuccess:P(()=>s.status===e.success),isFailed:P(()=>s.status===e.failed)});function o(U,B){d(),!!B.length&&(s.status=e.loading,[...B].map(A=>l(A)))}function l(U){return a(U).then(B=>{s.output={name:b(U.name),content:B,size:Math.round(B.length*3/4)},s.status=e.success}),null}function a(U){return new Promise((B,A)=>{const E=new FileReader,M=new FileReader,X=U.slice(0,4);E.readAsArrayBuffer(X),E.onloadend=z=>{let H=p(y(z.target.result));if(_(U.size)>_(n.maxFileSize)&&s.errors.push({message:"File size is too large!",type:t[1]}),H===!1&&s.errors.push({message:"File type is not supported!",type:t[2]}),s.errors.length>0){k(s.errors),d();return}else M.readAsDataURL(U)},M.onloadend=()=>{const z=new Image;z.onload=()=>{const le=document.createElement("canvas");le.width=le.height=100,le.getContext("2d").drawImage(z,0,0,le.width,le.height),B(le.toDataURL())};let H=M.result;z.src=H},E.onerror=z=>A(z),M.onerror=z=>A(z)})}function d(){s.status=e.initial,s.errors=[],s.output={}}function _(U){return U*Math.pow(10,-6)}function p(U){return["89504E47","47494638","FFD8FFDB","FFD8FFE0","FFD8FFE1","FFD8FFE2","FFD8FFE3","FFD8FFE8","3C3F786D","3C737667"].includes(U)}function y(U){const B=new Uint8Array(U);let A=[];return B.forEach(E=>{A.push(E.toString(16))}),A.join("").toUpperCase()}function b(U){return U.replace(/\.[^/.]+$/,"").replace(/[^a-z0-9]/gi,"_").toLowerCase()}function k(U){U.length===2?_e("File upload failed due to size and type!"+t[2]):_e(U[0].message+U[0].type)}return{state:s,handleChanges:o}}const jt=e=>(I("data-v-1f067d14"),e=e(),j(),e),sr={class:"uploader"},or={id:"form",enctype:"multipart/form-data",novalidate:""},lr={class:"box"},ar={class:"box-inner"},ir={key:0,class:"dropzone"},rr=jt(()=>i("ul",{class:"box-notes"},[i("li",{class:"first"},"Drop"),i("li",{class:"second"},"or"),i("li",{class:"third link"},"Browse an image")],-1)),ur={key:1,class:"status"},cr=jt(()=>i("span",{class:"loader"},[i("svg",{width:"30",height:"30",viewbox:"0 0 30 30",xmlns:"http://www.w3.org/2000/svg","data-svg":"spinner"},[i("circle",{fill:"none",stroke:"#fd3e60",cx:"15",cy:"15",r:"14"})])],-1)),_r=[cr],dr={key:0,class:"output"},pr=["src"],vr={emits:["loaded","close"],setup(e,{emit:t}){const{state:n,handleChanges:s}=nr();Ce(n,()=>{n.status==2&&t("loaded",n.output)});const o=g(null);return an(o,l=>{t("close")}),(l,a)=>(r(),c("div",sr,[i("form",or,[i("div",lr,[i("div",ar,[u(n).isLoading?m("",!0):(r(),c("div",ir,[i("input",{class:"input-file",ref:(d,_)=>{_.editor=d,o.value=d},type:"file",multiple:"",accept:"image/*",onChange:a[0]||(a[0]=d=>u(s)(d.target.name,d.target.files))},null,544),rr])),u(n).isLoading?(r(),c("div",ur,_r)):m("",!0)])])]),u(n).isSuccess?(r(),c("div",dr,[i("img",{src:u(n).output.content,alt:""},null,8,pr),C(" "+f(u(n).output.size),1)])):m("",!0)]))}};var mr=$(vr,[["__scopeId","data-v-1f067d14"]]);const fr=e=>(I("data-v-ce8bc120"),e=e(),j(),e),yr=["src"],hr=fr(()=>i("div",{class:"i-la-camera"},null,-1)),$r=[hr],gr={props:{id:String,icon:String,editable:Boolean},emits:["update"],setup(e){const t=g(!1);return(n,s)=>{const o=mr;return e.icon||e.editable?(r(),c("div",{key:0,class:L(["icon",{editable:e.editable}])},[e.icon?(r(),c("img",{key:0,src:e.icon},null,8,yr)):m("",!0),!e.icon||e.editable?(r(),c("div",{key:1,class:"camera",onClick:s[0]||(s[0]=l=>t.value=!0)},$r)):m("",!0),t.value?(r(),x(o,{key:2,onLoaded:s[1]||(s[1]=l=>{n.$emit("update",l),t.value=!1}),onClose:s[2]||(s[2]=l=>t.value=!1)})):m("",!0)],2)):m("",!0)}}};var Ot=$(gr,[["__scopeId","data-v-ce8bc120"]]);const br=e=>(I("data-v-63f22bfa"),e=e(),j(),e),kr={class:"title"},wr={key:0},xr=br(()=>i("div",{class:"i-la-pen"},null,-1)),Sr=[xr],zr=["value"],Cr={props:{editable:Boolean,text:String},emits:["update"],setup(e){const t=g(!1);return(n,s)=>(r(),c("div",kr,[t.value?(r(),c("input",{key:1,ref:(o,l)=>{l.title=o},onKeyup:[s[1]||(s[1]=ae(o=>{n.$emit("update",o.target.value),t.value=!1},["enter"])),s[3]||(s[3]=ae(o=>t.value=!1,["esc"]))],onBlur:s[2]||(s[2]=o=>t.value=!1),type:"text",value:e.text},null,40,zr)):(r(),c("h3",wr,[C(f(e.text),1),e.editable?(r(),c("span",{key:0,class:"edit",onClick:s[0]||(s[0]=o=>t.value=!0)},Sr)):m("",!0)]))]))}};var Dt=$(Cr,[["__scopeId","data-v-63f22bfa"]]);const Ir={class:"content"},jr={class:"info"},Or={class:"data"},Dr={class:"details"},Ur={class:"statuses"},Fr={class:"dates"},Ar={class:"lists"},Br={props:{id:String,parent:String,collective:{type:String,default:q}},emits:["open"],setup(e,{emit:t}){const n=e;rn(()=>{y.value.scrollIntoView()});const s=R({soul:n.id,title:null,type:"task",pub:null,team:{}}),o=se(s.title);S.get(n.id).map().on((b,k)=>{s[k]=b});const a=P(()=>oe[n.collective]?oe[n.collective].model[s.type]:ue[s.type]);R({icon:!1,title:!1,description:!1});function d(b,k){mt(n.id,b,k)}function _(b){mt(n.id,"icon",b)}const p=P(()=>Tn(s)),y=g(null);return J(()=>{o.value=s.title}),(b,k)=>{const U=zt,B=Dt,A=Z,E=de,M=Ot,X=tr,z=St,H=Ni,le=Ri,Ae=Oi,Et=yi,Lt=ni,Pt=Fe,qt=el,Tt=Oo,Rt=uo;return r(),c("div",{class:"page",ref:(K,Be)=>{Be.page=K,y.value=K}},[i("div",Ir,[v(U,{id:u(s).parent,onOpen:k[0]||(k[0]=K=>b.$emit("open",K))},null,8,["id"]),i("div",{class:"main",style:V({backgroundColor:u(ne)(u(s).soul)})},[i("div",jr,[v(B,{editable:u(p),text:u(s).title,onUpdate:k[1]||(k[1]=K=>d("title",K))},null,8,["editable","text"]),i("div",Or,[v(A,{type:u(s).type},null,8,["type"]),v(E,{id:u(s).soul.slice(1,88)},null,8,["id"])])]),v(M,{id:u(s).soul,editable:u(p),icon:u(s).icon,onUpdate:k[2]||(k[2]=K=>_(K.content))},null,8,["id","editable","icon"])],4),i("div",Dr,[m("",!0),v(X,{text:u(s).subtitle,editable:u(p),onUpdate:k[3]||(k[3]=K=>d("subtitle",K))},{default:h(()=>[C(f(b.$t("subtitle")),1)]),_:1},8,["text","editable"]),i("div",Ur,[v(z,{class:"pad",id:u(s).soul,editable:u(p)},null,8,["id","editable"]),v(H,{soul:u(s).soul,type:u(s).type},null,8,["soul","type"])]),v(le,{link:u(s).link,editable:u(p),onUpdate:k[4]||(k[4]=K=>d("link",K))},null,8,["link","editable"]),m("",!0),i("div",Fr,[v(Ae,{type:"start",id:u(s).soul,editable:u(p)},null,8,["id","editable"]),v(Ae,{type:"finish",id:u(s).soul,editable:u(p)},null,8,["id","editable"])]),v(Et,{horizontal:!0,id:u(s).soul},null,8,["id"])])]),i("div",Ar,[v(Lt,{text:u(s).text,editable:u(p),onUpdate:k[5]||(k[5]=K=>d("text",K))},null,8,["text","editable"]),(r(!0),c(D,null,F(u(a),K=>(r(),x(Pt,{wide:!1,key:K,type:K,editable:u(p),parent:u(s).soul,collective:e.collective,onOpen:k[6]||(k[6]=Be=>b.$emit("open",Be))},null,8,["type","editable","parent","collective"]))),128))]),i("aside",null,[v(qt,{soul:u(s).soul},null,8,["soul"]),v(Tt,{id:u(s).soul},null,8,["id"]),v(Rt,{id:u(s).soul,editable:u(p)},null,8,["id","editable"])])],512)}}};var Ye=$(Br,[["__scopeId","data-v-1999ca5c"]]);const Er={props:{type:String,id:String,collective:String},setup(e){const t=e,n=g();return J(()=>{S.get(t.collective).get(t.type).once((s,o)=>{var a;let l=t.id;n.value=(a=s==null?void 0:s[l])==null?void 0:a["#"]})}),(s,o)=>{const l=Ye;return n.value?(r(),x(l,{key:n.value,onOpen:o[0]||(o[0]=a=>s.$router.push(`/c/${e.collective}/${a.type}/${a.id}`)),onClose:o[1]||(o[1]=a=>s.$router.push(`/c/${e.collective}/${e.type}`)),id:n.value,collective:e.collective},null,8,["id","collective"])):m("",!0)}}},Lr={props:{type:String,collective:String},setup(e){return se(`Explore ${e.type}`),(n,s)=>{const o=Fe;return r(),x(o,{wide:!0,key:e.type,type:e.type,editable:!0,collective:e.collective,onOpen:s[0]||(s[0]=l=>n.$router.push(`/c/${e.collective}/${e.type}/${l.id}`))},null,8,["type","collective"])}}};const Pr={class:"types"},qr={props:{collective:String},setup(e){const t=e;se(`Explore ${t.collective}`);const n=P(()=>oe[t.collective]?Object.keys(oe[t.collective].model):Object.keys(ue));return(s,o)=>{var a;const l=bt;return r(),c("div",Pr,[C(f((a=u(oe))==null?void 0:a[e.collective]),1),(r(!0),c(D,null,F(u(n),d=>(r(),x(l,{onClick:_=>s.$router.push(`/c/${e.collective}/${d}`),key:d,type:d,parent:e.collective},null,8,["onClick","type","parent"]))),128))])}}};var Tr=$(qr,[["__scopeId","data-v-fd21490e"]]);const Rr=C("Designs");function Vr(e,t){const n=T("router-view");return r(),c("main",null,[Rr,v(n,null,{default:h(({Component:s})=>[v(N,{name:"fade"},{default:h(()=>[(r(),x(ee(s)))]),_:2},1024)]),_:1})])}const Mr={};var Nr=$(Mr,[["render",Vr]]);const Gr={class:"index"};function Hr(e,t){return r(),c("div",Gr,"INDEX DESIGNS")}const Wr={};var Kr=$(Wr,[["render",Hr]]);const Qr={id:"main"},Jr={class:"title"},Yr=C("Explore");function Xr(e,t){const n=T("router-link"),s=T("router-view");return r(),c("main",Qr,[i("div",Jr,[v(n,{to:"/explore/"},{default:h(()=>[Yr]),_:1})]),v(s,null,{default:h(({Component:o})=>[(r(),x(ee(o)))]),_:1})])}const Zr={};var eu=$(Zr,[["render",Xr],["__scopeId","data-v-30ba9241"]]);const tu=e=>(I("data-v-66394fb6"),e=e(),j(),e),nu={key:0,class:"type"},su={class:"title"},ou=tu(()=>i("div",{class:"spacer"},null,-1)),lu={class:"count"},au={class:"def"},iu={props:{type:String,parent:String},setup(e){const t=e,n=g({});let s;t.parent?s=S.get(t.parent):s=S.get(q),n.value={},s.get(t.type).once(l=>{if(l)for(let a in l)l[a]&&l[a]!="_"&&(n.value[a]=!0)});const o=P(()=>Object.keys(n.value).length);return(l,a)=>{const d=Z;return u(o)>0?(r(),c("div",nu,[v(d,{class:"bg",type:e.type,path:"color-lines"},null,8,["type"]),i("header",null,[i("div",su,f(l.$tc(`type.${e.type}`,u(o))),1),ou,i("div",lu,f(u(o)),1)]),i("section",null,[i("div",au,f(l.$t(`def.${e.type}`)),1)])])):m("",!0)}}};var Ut=$(iu,[["__scopeId","data-v-66394fb6"]]);const ru={class:"types"},uu={setup(e){return se("Explore"),(t,n)=>{const s=Ut;return r(),c("div",ru,[(r(!0),c(D,null,F(u(Se),o=>(r(),x(s,{onClick:l=>t.$router.push(`/explore/${o}`),key:o,type:o},null,8,["onClick","type"]))),128))])}}};var cu=$(uu,[["__scopeId","data-v-5d2e9728"]]);const _u={class:"types"},du={props:{type:String},setup(e){const t=Object.keys(ue);return(n,s)=>{const o=Z,l=T("router-view");return r(),c("section",null,[i("div",_u,[(r(!0),c(D,null,F(u(t),a=>(r(),x(o,{class:L(["type",{active:a==e.type}]),onClick:d=>n.$router.push(`/explore/${a}`),key:a,type:a,path:"discs"},null,8,["onClick","class","type"]))),128))]),v(l,null,{default:h(({Component:a})=>[v(N,{name:"fade"},{default:h(()=>[(r(),x(ee(a)))]),_:2},1024)]),_:1})])}}};var pu=$(du,[["__scopeId","data-v-b7703686"]]);const vu={props:{type:String,id:String},setup(e){const t=e,n=g();return J(()=>{Q.get(t.type).once((s,o)=>{var a;let l=t.id;n.value=(a=s==null?void 0:s[l])==null?void 0:a["#"]})}),(s,o)=>{const l=Ye;return n.value?(r(),x(l,{key:n.value,onOpen:o[0]||(o[0]=a=>s.$router.push(`/explore/${a.type}/${a.id}`)),onClose:o[1]||(o[1]=a=>s.$router.push(`/explore/${e.type}`)),id:n.value},null,8,["id"])):m("",!0)}}},mu={props:{type:String},setup(e){return se(`Explore ${e.type}`),(n,s)=>{const o=Fe;return r(),x(o,{wide:!0,key:e.type,type:e.type,editable:!0,collective:u(q),onOpen:s[0]||(s[0]=l=>n.$router.push(`/explore/${e.type}/${l.id}`))},null,8,["type","collective"])}}},fu={id:"main"},yu={class:"panel"},hu=C("Graph"),$u=C("Network"),gu=C("Export"),bu=C("Tools");function ku(e,t){const n=T("router-link"),s=T("router-view");return r(),c("main",fu,[i("div",yu,[v(n,{to:"/graph/"},{default:h(()=>[hu]),_:1}),v(n,{to:"/graph/network/"},{default:h(()=>[$u]),_:1}),v(n,{to:"/graph/export/"},{default:h(()=>[gu]),_:1}),v(n,{to:"/graph/tools/"},{default:h(()=>[bu]),_:1})]),v(s,null,{default:h(({Component:o})=>[v(N,{name:"fade"},{default:h(()=>[(r(),x(ee(o)))]),_:2},1024)]),_:1})])}const wu={};var xu=$(wu,[["render",ku],["__scopeId","data-v-b1821b4e"]]);const Su=e=>(I("data-v-35970bcc"),e=e(),j(),e),zu=Su(()=>i("header",null,"Export",-1)),Cu={class:"key"},Iu={key:0,class:"data"},ju={key:2,class:"data"},Ou={key:0},Du={key:1},Uu={setup(e){const t=ot();Ee();const n=se(),s=g(),o=g({});return J(()=>{s.value=t.query.id||q,o.value={},s.value&&S.get(s.value).map().on((l,a)=>{o.value[a]=l,a=="title"&&(n.value=l)})}),(l,a)=>{const d=T("router-link");return r(),c("article",null,[zu,i("section",null,[(r(!0),c(D,null,F(o.value,(_,p)=>(r(),c("div",{class:"row",key:_},[i("div",Cu,f(p),1),typeof _!="object"&&_[0]!="~"?(r(),c("div",Iu,f(_),1)):m("",!0),(_==null?void 0:_[0])=="~"?(r(),x(d,{key:1,to:{query:{id:_}}},{default:h(()=>[C(f(_),1)]),_:2},1032,["to"])):m("",!0),typeof _=="object"?(r(),c("div",ju,[(r(!0),c(D,null,F(_,(y,b)=>(r(),c("div",{class:"detail",key:b},[typeof y!="object"?(r(),c("div",Ou,f(y),1)):m("",!0),y&&typeof y=="object"?(r(),c("div",Du,[v(d,{to:{query:{id:y["#"]}}},{default:h(()=>[C(f(y["#"]),1)]),_:2},1032,["to"])])):m("",!0)]))),128))])):m("",!0)]))),128))])])}}};var Fu=$(Uu,[["__scopeId","data-v-35970bcc"]]);const Au=["onClick"],Bu={class:"item"},Eu={key:0},Lu={class:"id"},Pu={class:"title"},qu={class:"content"},Tu={setup(e){const t=g({}),n=setInterval(()=>{t.value=S._.graph},500);return un(()=>{clearInterval(n)}),(s,o)=>(r(),c("article",null,[(r(!0),c(D,null,F(t.value,(l,a)=>(r(),c("div",{class:"record",style:V({backgroundColor:u(ne)(a)}),key:a},[i("div",{class:"key",onClick:d=>l.show=!l.show},[a[0]=="~"?(r(),c("div",{key:0,class:"user",style:V({backgroundColor:u(ne)(a.slice(1,88))})},f(a.slice(1,6))+"...",5)):m("",!0),i("div",Bu,f(a[0]=="~"?a.slice(88):a),1)],8,Au),v(N,{name:"fade"},{default:h(()=>[l.show?(r(),c("section",Eu,[i("div",Lu,f(a),1),(r(!0),c(D,null,F(l,(d,_)=>O((r(),c("div",{class:"prop",key:_},[i("div",Pu,f(_),1),i("div",qu,f(d),1)],512)),[[W,_!="_"&&_!="show"]])),128))])):m("",!0)]),_:2},1024)],4))),128))]))}};var Ru=$(Tu,[["__scopeId","data-v-18a2c583"]]);const Vu={ref:"graph"},Mu={class:"nodes"},Nu={class:"links"};function Gu(e,t,n,s,o,l){const a=Z,d=T("router-link");return r(),c("article",Vu,[i("section",Mu,[(r(!0),c(D,null,F(e.nodes,_=>(r(),x(d,{class:"node",to:{path:"/app/page",query:{id:_.id}},key:_,id:_.id,style:V({backgroundColor:e.itemColor(_.id)})},{default:h(()=>[v(a,{type:_.type},null,8,["type"]),C(" "+f(_.name)+" "+f(_.x)+" "+f(_.y),1)]),_:2},1032,["to","id","style"]))),128))]),i("section",Nu,[(r(!0),c(D,null,F(e.links,_=>(r(),c("div",{class:"link",key:_},[i("div",{class:"from",style:V({backgroundColor:e.itemColor(_.source)})},null,4),i("div",{class:"to",style:V({backgroundColor:e.itemColor(_.target)})},null,4)]))),128))])],512)}const Hu=cn({setup(){const e=g(null),t=R([]),n=R([]),s=R({nodeSize:12,nodeLabels:!0,linkWidth:2}),o={design:"#111",project:"#aaa",object:"#a0a",event:"#00a",user:"#0ff"};for(let l of Se)Q.get(l).map().on((a,d)=>{a&&typeof a=="object"&&a.title&&(t.find(_=>_.id==te(a))||t.push({name:a.title||a.description,id:te(a),type:a.type,data:a,_color:o[a.type],_cssClass:"graph-node"}))});return _n(t,()=>{for(let l of t)for(let a of Se)l.data[a]&&S.get(l.id).get(a).map().on((d,_)=>{d&&t.find(p=>p.id==te(d))&&(n.find(p=>p.source==l.id&&p.target==te(d))||n.push({source:l.id,target:te(d)}))})},{throttle:700}),{graph:e,nodes:t,links:n,options:s,itemColor:ne}}});var Wu=$(Hu,[["render",Gu],["__scopeId","data-v-279c64d6"]]);const Ku=C("SCAN THE CODE"),Qu={setup(e){const t=g("off");return(n,s)=>(r(),c("main",null,[v(u(dn.exports.QrStream),{camera:t.value},{default:h(()=>[Ku]),_:1},8,["camera"]),i("button",{onClick:s[0]||(s[0]=o=>t.value="front")},"SCAN")]))}};function Ju(e,t=800){const n=document.createElement("canvas");n.width=n.height=t;const s=n.getContext("2d"),l=e.split(".").map(a=>Xu(a));return Yu(s,l[0][42],l[1][42],t),Ft(l[0],s,t,250),s.globalCompositeOperation="screen",Ft(l[1],s,t,100),n.toDataURL()}function Yu(e,t,n,s){var o=e.createLinearGradient(0,0,0,s);o.addColorStop(0,`hsl(0,0%,${t*100}%)`),o.addColorStop(1,`hsl(0,0%,${n*100}%)`),e.fillStyle=o,e.fillRect(0,0,s,s)}function Ft(e,t,n,s){Zu(e,7).forEach(l=>{if(l.length==7){let a=l[0]*n,d=l[1]*n,_=l[2]*s,p=l[3]*360,y=l[4]*100,b=l[5]*100,k=l[6];t.beginPath(),t.arc(a,d,_,0,2*Math.PI,!1),t.fillStyle=`hsla(${p},${y}%,${b}%,${k})`,t.closePath(),t.fill()}})}function Xu(e){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split("");let s=[],o=0;for(let l of e)s[o++]=n.indexOf(l)/64;return s}function Zu(e,t=3){return[...Array(Math.ceil(e.length/t))].map(()=>e.splice(0,t))}const ec=["src","width","height"],tc={props:{pub:String,size:{type:Number,default:420}},setup(e){return(t,n)=>e.pub?(r(),c("img",{key:0,src:u(Ju)(e.pub),width:e.size,height:e.size},null,8,ec)):m("",!0)}};var Xe=$(tc,[["__scopeId","data-v-3b4dde49"]]);const nc=e=>(I("data-v-3f814d52"),e=e(),j(),e),sc={class:"tool-case"},oc=nc(()=>i("h1",null,"Tools",-1)),lc=["src"],ac={class:"split"},ic={class:"decode"},rc={setup(e){const t=new he({saturation:[.3,.4,.6],lightness:[.6,.7,.8]}),n=g(null),s=g(null),o=P(()=>{var _;return(_=n.value)==null?void 0:_.pub.split(".")});async function l(){n.value=await Pe.pair(),s.value=await pn.toDataURL(n.value.pub,{errorCorrectionLevel:"Q",scale:6})}l();function a(_){const y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split("");let b=[],k=0;for(let U of _)b[k++]=y.indexOf(U)/64;return b}function d(_,p=0){let b=_.split(".").map(k=>t.hex(k));return`linear-gradient(${p}deg, ${b[0]} 0%, ${b[1]} 100%)`}return(_,p)=>{const y=Xe;return r(),c("div",sc,[oc,i("button",{onClick:p[0]||(p[0]=b=>l())},"Gen Pair"),v(N,{name:"fade"},{default:h(()=>[n.value?(r(),c("div",{class:"tools",key:n.value},[v(y,{pub:n.value.pub,size:300},null,8,["pub"]),i("div",{class:"gradient pad",style:V({background:d(n.value.pub,90)})},null,4),s.value?(r(),c("img",{key:0,src:s.value},null,8,lc)):m("",!0),i("div",ac,[(r(!0),c(D,null,F(u(o),b=>(r(),c("div",{class:"single pad",key:b,style:V({backgroundColor:u(t).hex(b)})},f(b),5))),128))]),i("div",ic,[(r(!0),c(D,null,F(u(o),b=>(r(),c("div",{class:"bits",key:b},[(r(!0),c(D,null,F(a(b),k=>(r(),c("div",{class:"bit",key:k,style:V({backgroundColor:"hsl(0,0%,"+k*100+"%)"})},null,4))),128))]))),128))]),i("div",{class:"pair pad",style:V({backgroundColor:u(t).hex(n.value.pub)})},f(n.value.pub),5)])):m("",!0)]),_:1})])}}};var uc=$(rc,[["__scopeId","data-v-3f814d52"]]);const cc={class:"date"},_c={class:"content"},dc={setup(e){function t(n){return new Date(n).toLocaleString()}return(n,s)=>(r(),c("main",null,[i("button",{onClick:s[0]||(s[0]=o=>u(Cn)("Checking history"))},"Check"),i("button",{onClick:s[1]||(s[1]=o=>u(In)())},"Clear"),(r(!0),c(D,null,F(u(ge).slice().reverse(),(o,l)=>(r(),c("div",{class:"line",key:l,style:V({backgroundColor:u(jn)[o.type]})},[i("div",cc,f(t(o.time)),1),i("div",_c,f(o.content),1)],4))),128))]))}};var pc=$(dc,[["__scopeId","data-v-771f8755"]]);function vc(){let e;const t=g(!1);window.addEventListener("beforeinstallprompt",function(s){s.preventDefault(),t.value=!0,e=s});function n(s){e.prompt(),e.userChoice.then(o=>{o.outcome==="accepted"?console.log("User accepted the A2HS prompt"):console.log("User dismissed the A2HS prompt"),e=null})}return{installApp:n,installable:t}}const mc={setup(e){const{installable:t,installApp:n}=vc();return(s,o)=>u(t)?(r(),c("button",{key:0,onClick:o[0]||(o[0]=l=>u(n)())},"Install the app")):m("",!0)}};var fc=$(mc,[["__scopeId","data-v-3567062a"]]);const yc={key:1,class:"locale choose"},hc=["onClick"],$c={setup(e){const t=g(!1),{locale:n}=vn();return(s,o)=>(r(),x(N,{name:"fade"},{default:h(()=>[t.value?(r(),c("div",yc,[(r(!0),c(D,null,F(u(cs),l=>(r(),c("span",{class:L(["choice",{active:l==u(n)}]),onClick:a=>{u($t)(l),t.value=!1},key:l},f(l.toUpperCase()),11,hc))),128))])):(r(),c("div",{key:0,class:"locale active",onClick:o[0]||(o[0]=l=>t.value=!t.value)},f(u(n).toUpperCase()),1))]),_:1}))}};var gc=$($c,[["__scopeId","data-v-24b3e5d6"]]);const Ze=e=>(I("data-v-2e61466e"),e=e(),j(),e),bc={id:"main"},kc=Ze(()=>i("img",{class:"logo",src:yt,alt:""},null,-1)),wc={class:"welcome"},xc={class:"title"},Sc=Ze(()=>i("span",null,"ABOUT",-1)),zc=Ze(()=>i("div",{class:"spacer"},null,-1)),Cc={class:"info"},Ic=C("Explore"),jc=C("Users"),Oc={setup(e){return se("Feeds"),(t,n)=>{const s=T("router-link"),o=gc,l=fc;return r(),c("main",bc,[i("header",null,[kc,i("div",wc,[i("div",xc,[i("h1",null,[C(f(t.$t("app.title")),1),v(s,{class:"pad",to:"/about/"},{default:h(()=>[Sc]),_:1})]),zc,v(o)]),i("div",Cc,[i("p",null,f(t.$t("app.description")),1)])])]),v(s,{class:"card",to:"/explore/"},{default:h(()=>[Ic]),_:1}),v(s,{class:"card",to:"/u/"},{default:h(()=>[jc]),_:1}),v(l)])}}};var Dc=$(Oc,[["__scopeId","data-v-2e61466e"]]);const Uc=e=>(I("data-v-5bbfb32b"),e=e(),j(),e),Fc=Uc(()=>i("header",null,[i("h1",null,"LAB"),i("p",null,"Feeds laboratory")],-1));function Ac(e,t){const n=T("router-view");return r(),c("main",null,[Fc,v(n,null,{default:h(({Component:s})=>[v(N,{name:"fade"},{default:h(()=>[(r(),x(ee(s)))]),_:2},1024)]),_:1})])}const Bc={};var Ec=$(Bc,[["render",Ac],["__scopeId","data-v-5bbfb32b"]]);const me=e=>(I("data-v-c98c7ade"),e=e(),j(),e),Lc=me(()=>i("div",{class:"i-la-boxes"},null,-1)),Pc=me(()=>i("div",{class:"title"},"Collectives",-1)),qc=me(()=>i("div",{class:"i-la-calendar"},null,-1)),Tc=me(()=>i("div",{class:"title"},"Timeline",-1)),Rc=me(()=>i("div",{class:"i-mdi-graph-outline"},null,-1)),Vc=me(()=>i("div",{class:"title"},"Graph",-1));function Mc(e,t){const n=T("router-link");return r(),c("nav",null,[v(n,{class:"card",to:"/c/"},{default:h(()=>[Lc,Pc]),_:1}),v(n,{class:"card",to:"/lab/timeline/"},{default:h(()=>[qc,Tc]),_:1}),v(n,{class:"card",to:"/graph/"},{default:h(()=>[Rc,Vc]),_:1})])}const Nc={};var Gc=$(Nc,[["render",Mc],["__scopeId","data-v-c98c7ade"]]);const Hc=e=>(I("data-v-8f361214"),e=e(),j(),e),Wc={class:"calendar"},Kc={class:"info"},Qc={class:"span"},Jc=Hc(()=>i("div",{class:"after"},null,-1)),Yc={setup(e){const t=R({});Q.map().map().on((l,a)=>{((l==null?void 0:l.dateStart)||(l==null?void 0:l.dateFinish))&&(t[a]=l,t[a].id=a,t[a].soul=te(l))});const n=P(()=>Object.values(t).sort((l,a)=>l.dateStart>a.dateStart?1:-1));function s(l){if(!l)return;let a=Date.now(),d=n.value[0].dateStart,_=a-d;return(l-d)/_}function o(l,a=Date.now()){let d=Date.now(),_=n.value[0].dateStart;l=l||_;let p=d-_;return(a-l)/p}return(l,a)=>{const d=Z;return r(),c("div",Wc,[(r(!0),c(D,null,F(u(n),(_,p)=>{var y,b;return r(),c("div",{class:"date",key:p},[i("div",Kc,[v(d,{type:_.type},null,8,["type"]),i("p",null,f(_.title)+" "+f((y=u(ce)(_==null?void 0:_.dateStart))==null?void 0:y.date)+" \u2014 "+f((b=u(ce)(_==null?void 0:_.dateFinish))==null?void 0:b.date),1)]),i("div",Qc,[i("div",{class:"before",style:V({flex:s(_==null?void 0:_.dateStart)})},null,4),i("div",{class:"last",style:V({backgroundColor:u(ne)(_.soul),flex:o(_==null?void 0:_.dateStart,_==null?void 0:_.dateFinish)})},null,4),Jc])])}),128))])}}};var Xc=$(Yc,[["__scopeId","data-v-8f361214"]]);const Zc=e=>(I("data-v-c8ef94ea"),e=e(),j(),e),e_={class:"page"},t_=C("Profile"),n_=C("Stars"),s_=Zc(()=>i("div",{class:"spacer"},null,-1)),o_={setup(e){return se(w.profile.title),(t,n)=>{var a,d,_;const s=Ie,o=T("router-link"),l=T("router-view");return r(),c("main",e_,[i("header",{class:"bar",style:V({background:u(ke)((a=u(w).is)==null?void 0:a.pub,-90)})},[v(s,{pic:(_=(d=u(w))==null?void 0:d.profile)==null?void 0:_.icon,size:"medium"},null,8,["pic"]),v(o,{class:"title",to:"/my"},{default:h(()=>{var p,y;return[C(f((y=(p=u(w))==null?void 0:p.profile)==null?void 0:y.title),1)]}),_:1}),v(o,{to:"/my/profile"},{default:h(()=>[t_]),_:1}),v(o,{to:"/my/stars"},{default:h(()=>[n_]),_:1}),s_,i("button",{onClick:n[0]||(n[0]=p=>u(Fn)())},"Log out")],4),v(l,null,{default:h(({Component:p})=>[v(N,{name:"fade"},{default:h(()=>{var y;return[(r(),x(lt,null,[(r(),x(ee(p),{user:(y=u(w).is)==null?void 0:y.pub},null,8,["user"]))],1024))]}),_:2},1024)]),_:1})])}}};var l_=$(o_,[["__scopeId","data-v-c8ef94ea"]]);const a_={class:"user"};function i_(e,t){return r(),c("div",a_,"USER INDEX")}const r_={};var u_=$(r_,[["render",i_]]);const c_={id:"profile"},__={class:"data"},d_={props:{alias:String},setup(e){var s;const t=g(!1);Q.get("user").get((s=w.is)==null?void 0:s.pub).once(o=>{t.value=o});function n(o,l){const a=S.user(w.is.pub).get(q).get("profile");a.get(o).put(l),a.get("updatedAt").put(Date.now()),a.get("log").get(Date.now()).put(`new ${o}`),be(`You've updated ${o}!`)}return(o,l)=>{var p,y,b;const a=Ot,d=Dt,_=Xe;return r(),c("div",c_,[i("aside",null,[v(a,{onUpdate:l[0]||(l[0]=k=>n("avatar",k.content)),editable:!0,icon:(y=(p=u(w))==null?void 0:p.profile)==null?void 0:y.avatar},null,8,["icon"]),v(d,{editable:Boolean(u(w).is),text:u(w).profile.title,onUpdate:l[1]||(l[1]=k=>n("title",k))},null,8,["editable","text"]),v(_,{pub:(b=u(w).is)==null?void 0:b.pub,size:120},null,8,["pub"])]),i("main",null,[i("button",{onClick:l[2]||(l[2]=k=>u(Un)())},"Participate"),i("div",__,[(r(!0),c(D,null,F(u(w).profile,(k,U)=>(r(),c("div",{class:"line",key:U},f(U)+": "+f(k),1))),128))])])])}}};var p_=$(d_,[["__scopeId","data-v-da1c40b4"]]);const v_={key:0,class:"date"},m_={key:1,class:"date"},f_=i("div",{class:"i-la-pen"},null,-1),At={props:{item:Object},setup(e){return(t,n)=>(r(),c(D,null,[e.item.createdAt&&!e.item.updatedAt?(r(),c("div",v_,f(u(ce)(e.item.createdAt).date),1)):m("",!0),e.item.updatedAt?(r(),c("div",m_,[f_,C(f(u(ce)(e.item.updatedAt).date),1)])):m("",!0)],64))}},y_={class:"title"},h_=C("Explore"),$_=C("Open");function g_(e,t,n,s,o,l){const a=Z,d=T("router-link"),_=At;return s.item&&s.item.title?(r(),c("div",{key:0,class:"row",style:V({backgroundColor:s.itemColor(n.id)})},[v(a,{type:s.item.type},null,8,["type"]),i("div",y_,f(s.item.title),1),s.item.id?(r(),x(d,{key:0,class:"link",to:`/explore/${s.item.type}/${s.item.id}`},{default:h(()=>[h_]),_:1},8,["to"])):m("",!0),v(d,{class:"link",to:{path:"/page",query:{id:n.id}}},{default:h(()=>[$_]),_:1},8,["to"]),v(_,{item:s.item},null,8,["item"])],4)):m("",!0)}const b_={props:["id"],async setup(e){return{item:await S.get(e.id),itemColor:ne}}};var k_=$(b_,[["render",g_],["__scopeId","data-v-70cb9f9f"]]);const w_=i("h3",null,"My Stars",-1),x_={class:"sus"};function S_(e,t,n,s,o,l){const a=k_;return r(),c("article",null,[w_,(r(),x(mn,null,{default:h(()=>[i("div",x_,[(r(!0),c(D,null,F(s.stars,(d,_)=>(r(),x(a,{id:d["#"],key:_},null,8,["id"]))),128))])]),_:1}))])}const z_={setup(e){const t=P(()=>{var n;return((n=w==null?void 0:w.rates)==null?void 0:n.star)&&Object.values(w.rates.star).filter(s=>s)});return{user:w,stars:t}}};var C_=$(z_,[["render",S_]]);const I_={setup(e){const t=ot(),n=Ee(),s=g();J(()=>{s.value=t.query.id});function o(l){n.push({query:{id:l.soul}})}return(l,a)=>{const d=Ye;return r(),c("main",null,[v(N,{name:"fade"},{default:h(()=>[(r(),x(lt,null,[s.value?(r(),x(d,{onOpen:o,key:s.value,id:s.value},null,8,["id"])):m("",!0)],1024))]),_:1})])}}},j_={id:"main"},O_={class:"header"},D_=C("Users");function U_(e,t){const n=T("router-link"),s=T("router-view");return r(),c("main",j_,[i("div",O_,[v(n,{to:"/u"},{default:h(()=>[D_]),_:1})]),v(s,null,{default:h(({Component:o})=>[v(N,{name:"fade"},{default:h(()=>[(r(),x(ee(o)))]),_:2},1024)]),_:1})])}const F_={};var A_=$(F_,[["render",U_],["__scopeId","data-v-9ecafc4c"]]);const B_={class:"profile"},E_={class:"title"},L_={props:{profile:Object,id:String},setup(e){return(t,n)=>{var a;const s=Ie,o=Xe,l=T("router-link");return r(),x(l,{class:"card",to:"/u/"+e.id,style:V({background:u(ke)((a=e.profile)==null?void 0:a.pub,-90)})},{default:h(()=>{var d,_,p,y;return[((d=e.profile)==null?void 0:d.avatar)?(r(),x(s,{key:0,pic:(_=e.profile)==null?void 0:_.avatar,size:"medium"},null,8,["pic"])):(r(),x(o,{key:1,pub:(p=e.profile)==null?void 0:p.pub,size:60},null,8,["pub"])),i("div",B_,[i("div",E_,f((y=e.profile)==null?void 0:y.title),1),ie(t.$slots,"default",{},void 0,!0)])]}),_:3},8,["to","style"])}}};var P_=$(L_,[["__scopeId","data-v-b1fdb24c"]]);const q_={class:"users"},T_={setup(e){const t=g({});return Q.get("user").map().once((n,s)=>{!n||(t.value[s]=n)}),(n,s)=>{const o=P_;return r(),c("div",q_,[(r(!0),c(D,null,F(t.value,(l,a)=>(r(),x(o,{key:a,id:a,profile:l},null,8,["id","profile"]))),128))])}}};var R_=$(T_,[["__scopeId","data-v-192e677d"]]);const Bt=e=>(I("data-v-46472460"),e=e(),j(),e),V_={class:"user-page"},M_={class:"row"},N_={class:"title"},G_={key:0,class:"verified"},H_=Bt(()=>i("div",{class:"i-la-check"},null,-1)),W_=[H_],K_=Bt(()=>i("div",{class:"spacer"},null,-1)),Q_={props:{id:String},setup(e){const t=e,n=g({}),s=g(),o=fn(async()=>{let l=await je(s.value);return t.id==l});return Q.get("user").get(t.id).once((l,a)=>{s.value=l.pub}).map().once((l,a)=>{!l||(n.value[a]=l)}),(l,a)=>{var y,b;const d=At,_=Ie,p=T("router-view");return r(),c("div",V_,[i("div",{class:"profile",style:V({background:u(ke)(s.value)})},[i("div",M_,[i("div",N_,[C(f((y=n.value)==null?void 0:y.title),1),u(o)?(r(),c("span",G_,W_)):m("",!0)]),K_,v(d,{item:n.value},null,8,["item"])]),v(_,{class:"pic",pic:(b=n.value)==null?void 0:b.avatar,size:"large"},null,8,["pic"])],4),v(p,null,{default:h(({Component:k})=>[v(N,{name:"fade"},{default:h(()=>[(r(),x(ee(k)))]),_:2},1024)]),_:1})])}}};var J_=$(Q_,[["__scopeId","data-v-46472460"]]);const Y_={class:"types"},X_={props:{active:String},emits:["choose"],setup(e,{emit:t}){return(n,s)=>{const o=Z;return r(),c("div",Y_,[(r(!0),c(D,null,F(u(Se),l=>(r(),x(o,{class:L(["type",{active:e.active==l}]),onClick:a=>n.$emit("choose",l),key:l,type:l},null,8,["onClick","class","type"]))),128))])}}};var Z_=$(X_,[["__scopeId","data-v-31968518"]]);const ed={class:"list"},td={props:{type:String,id:String},setup(e){const t=e,n=g(),s=P(()=>n.value?`~${n.value}/${q}`:null);return Q.get("user").get(t.id).get("pub").once((o,l)=>{n.value=o}),(o,l)=>{var _,p;const a=Z_,d=Fe;return r(),c("div",ed,[v(a,{onChoose:l[0]||(l[0]=y=>o.$router.push(`/u/${e.id}/${y}`)),active:e.type},null,8,["active"]),u(s)?(r(),x(d,{wide:!1,key:e.type,type:e.type,editable:((p=(_=u(w))==null?void 0:_.is)==null?void 0:p.pub)==n.value,parent:u(s),onOpen:l[1]||(l[1]=y=>o.$router.push({path:"/page",query:{id:y.soul}}))},null,8,["type","editable","parent"])):m("",!0)])}}},nd={key:0,class:"list"},sd={props:{id:String},setup(e){const t=e,n=g();return Q.get("user").get(t.id).get("pub").once((s,o)=>{n.value=s}),(s,o)=>{const l=Ut;return n.value?(r(),c("div",nd,[(r(!0),c(D,null,F(u(Se),a=>(r(),x(l,{onClick:d=>s.$router.push(`/u/${e.id}/${a}`),key:a,type:a,parent:n.value?`~${n.value}/${u(q)}`:null},null,8,["onClick","type","parent"]))),128))])):m("",!0)}}},od={class:"error"};function ld(e,t){return r(),c("main",od,[i("h1",null,f(e.$t("404.sorry")),1),i("p",null,f(e.$t("404.text")),1)])}const ad={};var id=$(ad,[["render",ld],["__scopeId","data-v-170107f6"]]);const rd=[{name:"about",path:"/about",component:hs,props:!0},{name:"auth",path:"/auth",component:Ss,props:!0},{path:"/c",component:Is,children:[{name:"c",path:"",component:Vs,props:!0},{path:":collective",component:Ws,children:[{path:":type",component:Ys,children:[{name:"c-collective-type-id",path:":id",component:Er,props:!0},{name:"c-collective-type",path:"",component:Lr,props:!0}],props:!0},{name:"c-collective",path:"",component:Tr,props:!0}],props:!0}],props:!0},{path:"/designs",component:Nr,children:[{name:"designs",path:"",component:Kr,props:!0}],props:!0},{path:"/explore",component:eu,children:[{name:"explore",path:"",component:cu,props:!0},{path:":type",component:pu,children:[{name:"explore-type-id",path:":id",component:vu,props:!0},{name:"explore-type",path:"",component:mu,props:!0}],props:!0}],props:!0},{path:"/graph",component:xu,children:[{name:"graph-export",path:"export",component:Fu,props:!0},{name:"graph",path:"",component:Ru,props:!0},{name:"graph-network",path:"network",component:Wu,props:!0},{name:"graph-qr",path:"qr",component:Qu,props:!0},{name:"graph-tools",path:"tools",component:uc,props:!0}],props:!0},{name:"history",path:"/history",component:pc,props:!0},{name:"index",path:"/",component:Dc,props:!0},{path:"/lab",component:Ec,children:[{name:"lab",path:"",component:Gc,props:!0},{name:"lab-timeline",path:"timeline",component:Xc,props:!0}],props:!0},{path:"/my",component:l_,children:[{name:"my",path:"",component:u_,props:!0},{name:"my-profile",path:"profile",component:p_,props:!0},{name:"my-stars",path:"stars",component:C_,props:!0}],props:!0},{name:"page",path:"/page",component:I_,props:!0},{path:"/u",component:A_,children:[{name:"u",path:"",component:R_,props:!0},{path:":id",component:J_,children:[{name:"u-id-type",path:":type",component:td,props:!0},{name:"u-id",path:"",component:sd,props:!0}],props:!0}],props:!0},{name:"all",path:"/:all(.*)*",component:id,props:!0}],ud=yn({history:hn(),routes:rd}),et=$n(is);et.use(ud);et.use(Me);et.mount("#app");
